"use strict";(self.webpackChunkportfolio_os=self.webpackChunkportfolio_os||[]).push([[367],{4367:function(t,i,e){e.r(i),e.d(i,{audio_files:function(){return s},default:function(){return p}});var s,o=e(5671),n=e(3144),a=e(2024),h=e.n(a),r=e(2791),l=e(7762),_=function(t,i){return function(e){var a,h;e.disableFriendlyErrors=!0;var r,_,u,m,d,c,p,I=[],f=[],H=function(){function t(i,e,s,n,a){(0,o.Z)(this,t),this.animation=void 0,this.pos=void 0,this.center=void 0,this.speed=void 0,this.len=void 0,this.index=void 0,this.diameter=void 0,this.index_bumper=void 0,this.hit=void 0,this.collision=void 0,this.bounce_vec=void 0,this.frame_count_shake=void 0,this.speed=0,this.pos=new L([e,s]),this.center=new L([e+n/2,s+n/2]),this.collision=new L([0,0]),this.bounce_vec=new L([0,0]),this.animation=i,this.len=this.animation.length,this.index=0,this.hit=!1,this.diameter=n,this.index_bumper=a,this.frame_count_shake=0}return(0,n.Z)(t,[{key:"resize",value:function(){var t=.1*r.DIAGONAL;this.diameter=t,this.pos.x=r.WIDTH/2-t/2,1===this.index_bumper?this.pos.y=1*r.HEIGHT/4-t/2:2===this.index_bumper&&(this.pos.y=3*r.HEIGHT/4-t/2),this.center.x=this.pos.x+t/2,this.center.y=this.pos.y+t/2}},{key:"show",value:function(t){var i=this.index%this.len;e.push(),this.hit&&this.frame_count_shake<30&&e.translate(Math.floor(e.random(-5,6)),Math.floor(e.random(-5,6))),e.image(this.animation[i],this.pos.x*t,this.pos.y*t,this.diameter*t,this.diameter*t),e.pop()}},{key:"animate",value:function(){this.index+=1,this.frame_count_shake++,this.index>=this.len&&(this.index=0,this.hit=!1)}},{key:"resetAnimation",value:function(){this.index=0,this.frame_count_shake=0}},{key:"render",value:function(t){this.show(t),this.hit&&this.animate()}},{key:"checkCollision",value:function(t){var i=new L(t.center()),e=new L(t.centerNextFrame()),s=this.center,o=.85*this.diameter/2,n=S(e,i),a=S(i,s),h=n.dot(n),r=2*a.dot(n),l=r*r-4*h*(a.dot(a)-o*o);if(l>=0){var _=(-r-(l=Math.sqrt(l)))/(2*h);if(_>=0&&_<=1){this.collision.x=i.x+_,this.collision.y=i.y,this.hit=!0,this.bounce_vec=S(this.collision,this.center),this.bounce_vec.normalize();var u=new L(t.velocity);return this.bounce_vec.mult(u.mag()),t.velocity[0]=this.bounce_vec.x,t.velocity[1]=this.bounce_vec.y,!0}}return!1}}]),t}(),v=function(){function t(){(0,o.Z)(this,t),this.create_game=void 0,this.join=void 0,this.return=void 0,this.matchmaking=void 0,this.anyone_can_join=void 0,this.invitation_only=void 0,this.local=void 0,this.ai=void 0,this.validate=void 0,this.plus=void 0,this.minus=void 0,this.opponent_left_ok=void 0,this.map_original=void 0,this.map_city=void 0,this.map_casino=void 0,this.map_secret=void 0,this.spectate=void 0,this.sound=void 0,this.reset()}return(0,n.Z)(t,[{key:"createButtons",value:function(){this.create_game=R("Create game",mt,ft,Ht,r.std_width,r.std_height),this.create_game.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.join=R("Join game",Tt,ft,Ht,r.std_width,r.std_height),this.join.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.matchmaking=R("Match making",ct,ft,Ht,r.std_width,r.std_height),this.matchmaking.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.return=R("",lt,ft,Ht,r.medium_square_diameter,r.medium_square_diameter),this.return.style("border","none"),this.return.style("background-color","rgba(0, 0, 0, 0)"),this.return.position(.9*r.WIDTH,.01*r.HEIGHT),this.sound=R("",ut,it,et,r.medium_square_diameter,r.medium_square_diameter),this.sound.style("border","none"),this.sound.style("background-color","rgba(0, 0, 0, 0)"),this.sound.size(1.65*r.small_square_diameter,1.65*r.small_square_diameter),this.sound.position(.8*r.WIDTH,.02*r.HEIGHT),this.anyone_can_join=R("Anyone can join",Et,ft,Ht,r.medium_width,r.medium_height),this.anyone_can_join.style("background-color","rgba(0, 0, 0, 0)"),this.anyone_can_join.style("font-size",r.medium_font_size.toString()+"px"),this.anyone_can_join.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.anyone_can_join.style("outline","none"),this.invitation_only=R("Invitation only",Dt,ft,Ht,r.medium_width,r.medium_height),this.invitation_only.style("background-color","rgba(0, 0, 0, 0)"),this.invitation_only.style("border","none"),this.invitation_only.style("font-size",r.medium_font_size.toString()+"px"),this.local=R("Play local",wt,ft,Ht,r.medium_width,r.medium_height),this.local.style("background-color","rgba(0, 0, 0, 0)"),this.local.style("font-size",r.medium_font_size.toString()+"px"),this.local.style("border","none"),this.ai=R("vs AI",At,ft,Ht,r.medium_width,r.medium_height),this.ai.style("background-color","rgba(0, 0, 0, 0)"),this.ai.style("font-size",r.medium_font_size.toString()+"px"),this.ai.style("border","none"),this.validate=R("Create",dt,ft,Ht,r.medium_width,r.medium_height),this.validate.style("background-color","rgba(0, 0, 0, 0)"),this.validate.style("font-size",r.medium_font_size.toString()+"px"),this.plus=R("+",vt,ft,Ht,r.small_square_diameter,r.small_square_diameter),this.plus.style("border","none"),this.plus.style("font-size",r.small_font_size.toString()+"px"),this.minus=R("-",yt,ft,Ht,r.small_square_diameter,r.small_square_diameter),this.minus.style("border","none"),this.minus.style("font-size",r.small_font_size.toString()+"px"),this.opponent_left_ok=R("OK",lt,ft,Ht,r.std_width,r.std_height),this.opponent_left_ok.style("border","none"),this.map_original=R("Original",Ot,ft,Ht,.2*r.WIDTH+r.WIDTH/48,.2*r.HEIGHT+r.WIDTH/48),this.map_original.style("background","none"),this.map_original.style("outline","none"),this.map_original.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.map_city=R("City",Gt,ft,Ht,.2*r.WIDTH+r.WIDTH/48,.2*r.HEIGHT+r.WIDTH/48),this.map_city.style("background","none"),this.map_city.style("border","none"),this.map_city.style("outline","none"),this.map_casino=R("Casino",bt,ft,Ht,.2*r.WIDTH+r.WIDTH/48,.2*r.HEIGHT+r.WIDTH/48),this.map_casino.style("background","none"),this.map_casino.style("border","none"),this.map_casino.style("outline","none"),this.map_original.style("font-size",r.medium_font_size.toString()+"px"),this.map_city.style("font-size",r.medium_font_size.toString()+"px"),this.map_casino.style("font-size",r.medium_font_size.toString()+"px"),this.map_original.position(.0855*r.WIDTH,.56*r.HEIGHT),this.map_city.position(.3855*r.WIDTH,.56*r.HEIGHT),this.map_casino.position(.6855*r.WIDTH,.56*r.HEIGHT),this.map_secret=R("*",_t,ft,Ht,r.small_square_diameter,r.small_square_diameter),this.map_secret.style("border","none"),this.map_secret.style("background","none"),this.spectate=R("",gt,pt,It,.1*r.WIDTH,.15*r.HEIGHT),this.spectate.style("background-color","rgba(0, 0, 0, 0)"),this.spectate.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.spectate.style("position","absolute"),this.spectate.position(.04*r.WIDTH,.03*r.HEIGHT+35),this.hide(),this.addParent(),this.matchmaking.show(),this.create_game.show(),this.join.show(),this.map_secret.show()}},{key:"resize",value:function(){this.create_game.size(r.std_width,r.std_height),this.create_game.style("font-size",r.std_font_size.toString()+"px"),this.create_game.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.join.size(r.std_width,r.std_height),this.join.style("font-size",r.std_font_size.toString()+"px"),this.join.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.matchmaking.size(r.std_width,r.std_height),this.matchmaking.style("font-size",r.std_font_size.toString()+"px"),this.matchmaking.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.opponent_left_ok.size(r.std_width,r.std_height),this.opponent_left_ok.style("font-size",r.std_font_size.toString()+"px"),this.anyone_can_join.size(r.medium_width,r.medium_height),this.anyone_can_join.style("font-size",r.medium_font_size.toString()+"px"),this.anyone_can_join.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.invitation_only.size(r.medium_width,r.medium_height),this.invitation_only.style("font-size",r.medium_font_size.toString()+"px"),this.invitation_only.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.local.size(r.medium_width,r.medium_height),this.local.style("font-size",r.medium_font_size.toString()+"px"),this.local.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.ai.size(r.medium_width,r.medium_height),this.ai.style("font-size",r.medium_font_size.toString()+"px"),this.ai.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.validate.size(r.medium_width,r.medium_height),this.validate.style("font-size",r.medium_font_size.toString()+"px"),this.validate.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.plus.size(r.small_square_diameter,r.small_square_diameter),this.plus.style("font-size",r.small_font_size.toString()+"px"),this.minus.size(r.small_square_diameter,r.small_square_diameter),this.minus.style("font-size",r.small_font_size.toString()+"px"),this.return.size(r.medium_square_diameter,r.medium_square_diameter),this.return.style("font-size",r.medium_font_size.toString()+"px"),this.return.position(.9*r.WIDTH,.01*r.HEIGHT),this.sound.size(1.65*r.small_square_diameter,1.65*r.small_square_diameter),this.sound.position(.8*r.WIDTH,.02*r.HEIGHT),this.map_original.size(.2*r.WIDTH+.025*r.DIAGONAL,.2*r.HEIGHT+.025*r.DIAGONAL),this.map_original.style("font-size",r.medium_font_size.toString()+"px"),this.map_city.size(.2*r.WIDTH+.025*r.DIAGONAL,.2*r.HEIGHT+.025*r.DIAGONAL),this.map_city.style("font-size",r.medium_font_size.toString()+"px"),this.map_casino.size(.2*r.WIDTH+.025*r.DIAGONAL,.2*r.HEIGHT+.025*r.DIAGONAL),this.map_casino.style("font-size",r.medium_font_size.toString()+"px"),this.map_secret.position(.01*r.WIDTH,.93*r.HEIGHT),this.map_secret.size(r.small_square_diameter,r.small_square_diameter),this.map_secret.style("font-size",r.small_font_size.toString()+"px"),this.map_original.position(.0855*r.WIDTH,.56*r.HEIGHT),this.map_original.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.map_city.position(.3855*r.WIDTH,.56*r.HEIGHT),this.map_city.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.map_casino.position(.6855*r.WIDTH,.56*r.HEIGHT),this.map_casino.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.spectate.size(.1*r.WIDTH,.1*r.HEIGHT),this.spectate.style("border-width",(r.DIAGONAL/250).toString()+"px"),this.spectate.position(.04*r.WIDTH,.03*r.HEIGHT+35)}},{key:"delete",value:function(){this.create_game&&this.create_game.remove(),this.create_game=null,this.join&&this.join.remove(),this.join=null,this.matchmaking&&this.matchmaking.remove(),this.matchmaking=null,this.return&&this.return.remove(),this.return=null,this.sound&&this.sound.remove(),this.sound=null,this.anyone_can_join&&this.anyone_can_join.remove(),this.anyone_can_join=null,this.invitation_only&&this.invitation_only.remove(),this.invitation_only=null,this.local&&this.local.remove(),this.local=null,this.ai&&this.ai.remove(),this.ai=null,this.validate&&this.validate.remove(),this.validate=null,this.plus&&this.plus.remove(),this.plus=null,this.minus&&this.minus.remove(),this.minus=null,this.opponent_left_ok&&this.opponent_left_ok.remove(),this.opponent_left_ok=null,this.map_original&&this.map_original.remove(),this.map_original=null,this.map_city&&this.map_city.remove(),this.map_city=null,this.map_casino&&this.map_casino.remove(),this.map_casino=null,this.map_secret&&this.map_secret.remove(),this.map_secret=null,this.spectate&&this.spectate.remove(),this.spectate=null,N("button-create"),N("button-join"),N("button-matchmaking"),N("button-anyone"),N("button-invitation"),N("button-local"),N("button-ai"),N("button-validate"),N("button-return"),N("button-sound"),N("button-map-original"),N("button-map-city"),N("button-map-casino"),N("button-map-secret"),N("button-spectate"),N("button-plus"),N("button-minus"),N("button-opp-left-ok")}},{key:"reset",value:function(){this.delete(),this.createButtons(),this.resize()}},{key:"hide",value:function(){this.create_game.hide(),this.join.hide(),this.return.hide(),this.matchmaking.hide(),this.sound.hide(),this.anyone_can_join.hide(),this.invitation_only.hide(),this.local.hide(),this.ai.hide(),this.validate.hide(),this.plus.hide(),this.minus.hide(),this.opponent_left_ok.hide(),this.map_original.hide(),this.map_city.hide(),this.map_casino.hide(),this.map_secret.hide(),this.spectate.hide()}},{key:"clickAnyone",value:function(){return this.anyone_can_join.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.local.style("border","none"),this.invitation_only.style("border","none"),this.ai.hide(),this.ai.style("border","none"),_.ai=!1,"public"}},{key:"clickLocal",value:function(){return this.anyone_can_join.style("border","none"),this.local.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.invitation_only.style("border","none"),this.ai.show(),"local"}},{key:"clickInvitation",value:function(){return this.anyone_can_join.style("border","none"),this.local.style("border","none"),this.invitation_only.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.ai.hide(),this.ai.style("border","none"),_.ai=!1,"private"}},{key:"addParent",value:function(){x&&(this.create_game.parent(document.getElementById("button-create")),this.join.parent(document.getElementById("button-join")),this.matchmaking.parent(document.getElementById("button-matchmaking")),this.return.parent(document.getElementById("button-return")),this.sound.parent(document.getElementById("button-sound")),this.anyone_can_join.parent(document.getElementById("button-anyone")),this.local.parent(document.getElementById("button-local")),this.invitation_only.parent(document.getElementById("button-invitation")),this.ai.parent(document.getElementById("button-ai")),this.validate.parent(document.getElementById("button-validate")),this.plus.parent(document.getElementById("button-plus")),this.minus.parent(document.getElementById("button-minus")),this.opponent_left_ok.parent(document.getElementById("button-opp-left-ok")),this.map_original.parent(document.getElementById("button-map-original")),this.map_city.parent(document.getElementById("button-map-city")),this.map_casino.parent(document.getElementById("button-map-casino")),this.map_secret.parent(document.getElementById("button-map-secret")),this.spectate.parent(document.getElementById("button-spectate")))}}]),t}(),y=function(){function s(){(0,o.Z)(this,s),this.WIDTH=void 0,this.HEIGHT=void 0,this.DIAGONAL=void 0,this.OLD_WIDTH=void 0,this.OLD_HEIGHT=void 0,this.PLAYER_WIDTH=void 0,this.PLAYER_HEIGHT=void 0,this.PLAYER_SPEED=void 0,this.AI_SPEED=void 0,this.BREAKOUT_WIDTH=void 0,this.BREAKOUT_HEIGHT=void 0,this.PONG_DIAMETER=void 0,this.PONG_BASE_SPEED=void 0,this.PONG_MAX_SPEED=void 0,this.PONG_ACCELERATION=void 0,this.PONG_ACCELERATION_ACUTE_ANGLE=void 0,this.PONG_COLOR=void 0,this.TOP_BOUND=void 0,this.BOT_BOUND=void 0,this.LEFT_BOUND=void 0,this.RIGHT_BOUND=void 0,this.std_font_size=void 0,this.medium_font_size=void 0,this.small_font_size=void 0,this.std_width=void 0,this.std_height=void 0,this.medium_width=void 0,this.medium_height=void 0,this.medium_square_diameter=void 0,this.small_square_diameter=void 0,this.original_map=void 0,this.city_map=void 0,this.casino_map=void 0,this.secret_map=void 0,this.FONT=void 0,this.RETURN_ICON=void 0,this.CROSS_ICON=void 0,this.CROSS_ICON2=void 0,this.MARK_ICON=void 0,this.EYE_ICON=void 0,this.SOUND_ICON=void 0,this.CITY_BACKGROUND=void 0,this.TOKYO_BACKGROUND=void 0,this.WIDTH=t,this.HEIGHT=i,this.original_map=new E(1,this.WIDTH,this.HEIGHT),this.city_map=new E(2,this.WIDTH,this.HEIGHT),this.casino_map=new E(3,this.WIDTH,this.HEIGHT),this.secret_map=new E(4,this.WIDTH,this.HEIGHT),this.OLD_WIDTH=this.WIDTH,this.OLD_HEIGHT=this.HEIGHT,this.WIDTH=x.clientWidth,this.HEIGHT=x.clientHeight,this.DIAGONAL=Math.sqrt(Math.pow(this.WIDTH,2)+Math.pow(this.HEIGHT,2)),this.PLAYER_WIDTH=this.WIDTH/80,this.PLAYER_HEIGHT=this.HEIGHT/9,this.PLAYER_SPEED=this.DIAGONAL/125,this.AI_SPEED=this.DIAGONAL/175,this.BREAKOUT_WIDTH=.8*this.PLAYER_WIDTH,this.BREAKOUT_HEIGHT=.8*this.PLAYER_HEIGHT,this.PONG_DIAMETER=this.DIAGONAL/120,this.PONG_BASE_SPEED=this.DIAGONAL/150,this.PONG_MAX_SPEED=2*this.PONG_BASE_SPEED,this.PONG_ACCELERATION=this.PONG_BASE_SPEED/2800,this.PONG_ACCELERATION_ACUTE_ANGLE=this.PONG_BASE_SPEED/28,this.PONG_COLOR="white",this.std_width=this.WIDTH/4,this.std_height=this.HEIGHT/4,this.medium_width=this.WIDTH/3.5,this.medium_height=this.HEIGHT/10,this.medium_square_diameter=this.DIAGONAL/14,this.small_square_diameter=this.DIAGONAL/28,this.std_font_size=Math.sqrt(Math.pow(this.std_width,2)+Math.pow(this.std_height,2))/8,this.medium_font_size=Math.sqrt(Math.pow(this.medium_width,2)+Math.pow(this.medium_height,2))/14,this.small_font_size=Math.sqrt(Math.pow(this.small_square_diameter,2)+Math.pow(this.small_square_diameter,2))/1.7,this.original_map.resize(this.WIDTH,this.HEIGHT),this.city_map.resize(this.WIDTH,this.HEIGHT),this.casino_map.resize(this.WIDTH,this.HEIGHT),this.secret_map.resize(this.WIDTH,this.HEIGHT),this.TOP_BOUND=2*this.original_map.wall_width,this.BOT_BOUND=this.HEIGHT-2*this.original_map.wall_width,this.LEFT_BOUND=0,this.RIGHT_BOUND=this.WIDTH,this.FONT=e.loadFont("".concat("/portfoliOS","/assets/fonts/PressStart2P-Regular.ttf")),this.RETURN_ICON=e.loadImage("".concat("/portfoliOS","/assets/icons/return-button2.png")),this.CROSS_ICON=e.loadImage("".concat("/portfoliOS","/assets/icons/red-cross.png")),this.CROSS_ICON2=e.loadImage("".concat("/portfoliOS","/assets/icons/red-cross.png")),this.MARK_ICON=e.loadImage("".concat("/portfoliOS","/assets/icons/green-mark.png")),this.EYE_ICON=e.loadImage("".concat("/portfoliOS","/assets/icons/eye-icon.png")),this.SOUND_ICON=e.loadImage("".concat("/portfoliOS","/assets/icons/sfx_icon.png")),this.CITY_BACKGROUND=e.loadImage("".concat("/portfoliOS","/assets/backgrounds/city.jpg")),this.TOKYO_BACKGROUND=e.loadImage("".concat("/portfoliOS","/assets/backgrounds/tokyo.png"))}return(0,n.Z)(s,[{key:"setWindowSize",value:function(){this.OLD_WIDTH=this.WIDTH,this.OLD_HEIGHT=this.HEIGHT,this.WIDTH=x.clientWidth,this.HEIGHT=x.clientHeight,this.DIAGONAL=Math.sqrt(Math.pow(this.WIDTH,2)+Math.pow(this.HEIGHT,2))}},{key:"resize",value:function(){this.setWindowSize(),this.PLAYER_WIDTH=this.WIDTH/80,this.PLAYER_HEIGHT=this.HEIGHT/9,this.PLAYER_SPEED=this.DIAGONAL/125,this.AI_SPEED=this.DIAGONAL/175,this.BREAKOUT_WIDTH=.8*this.PLAYER_WIDTH,this.BREAKOUT_HEIGHT=.8*this.PLAYER_HEIGHT,this.PONG_DIAMETER=this.DIAGONAL/120,this.PONG_BASE_SPEED=this.DIAGONAL/150,this.PONG_MAX_SPEED=2*this.PONG_BASE_SPEED,this.PONG_ACCELERATION=this.PONG_BASE_SPEED/2800,this.PONG_ACCELERATION_ACUTE_ANGLE=this.PONG_BASE_SPEED/28,this.PONG_COLOR="white",this.std_width=this.WIDTH/4,this.std_height=this.HEIGHT/4,this.medium_width=this.WIDTH/3.5,this.medium_height=this.HEIGHT/10,this.std_font_size=Math.sqrt(Math.pow(this.std_width,2)+Math.pow(this.std_height,2))/8,this.medium_font_size=Math.sqrt(Math.pow(this.medium_width,2)+Math.pow(this.medium_height,2))/14,this.small_font_size=Math.sqrt(Math.pow(this.small_square_diameter,2)+Math.pow(this.small_square_diameter,2))/1.7,this.medium_square_diameter=this.DIAGONAL/14,this.small_square_diameter=this.DIAGONAL/28,this.original_map.resize(this.WIDTH,this.HEIGHT),this.city_map.resize(this.WIDTH,this.HEIGHT),this.casino_map.resize(this.WIDTH,this.HEIGHT),this.secret_map.resize(this.WIDTH,this.HEIGHT),this.TOP_BOUND=2*this.original_map.wall_width,this.BOT_BOUND=this.HEIGHT-2*this.original_map.wall_width,this.LEFT_BOUND=0,this.RIGHT_BOUND=this.WIDTH}}]),s}(),T=function(){function t(){(0,o.Z)(this,t),this.game_full=!1,this.game_not_found=!1,this.game_not_public=!1,this.already_in_game=!1,this.set_false()}return(0,n.Z)(t,[{key:"set_false",value:function(){this.game_full=!1,this.game_not_found=!1,this.game_not_public=!1,this.already_in_game=!1}}]),t}(),g=function(){function t(){(0,o.Z)(this,t),this.players=void 0,this.breakouts=void 0,this.score=void 0,this.score_limit=void 0,this.pong=void 0,this.timer=void 0,this.state=void 0,this.room_id=void 0,this.publicity=void 0,this.local=void 0,this.ai=void 0,this.frames_since_point=void 0,this.map=void 0,this.timeout=void 0,this.spectator=void 0,this.hover_spectator=void 0,this.frame_count_shake=void 0,this.players=[],this.breakouts=[],this.pong=null,this.score=[0,0],this.score_limit=10,this.timer=3,this.state="in-menu",this.room_id="null",this.publicity="public",this.local=!1,this.ai=!1,this.frames_since_point=0,this.map=r.original_map,this.spectator=!1,this.hover_spectator=!1,this.frame_count_shake=0}return(0,n.Z)(t,[{key:"reset",value:function(){this.players=[],this.breakouts=[],this.score=[0,0],this.score_limit=10,this.timer=3,this.state="in-menu",this.room_id="null",this.publicity="public",this.local=!1,this.ai=!1,this.frames_since_point=0,this.map=r.original_map,this.spectator=!1,this.hover_spectator=!1,this.frame_count_shake=0}},{key:"over",value:function(){return this.score[0]>=this.score_limit||this.score[1]>=this.score_limit}},{key:"scorePoint",value:function(t){var i=this;F=!0,this.frame_count_shake=0,s.playScore(),this.pong.velocity=[0,0],this.pong.pos=[r.WIDTH/2-r.PONG_DIAMETER/2,r.HEIGHT/2-r.PONG_DIAMETER/2],t?-1===this.pong.value&&this.score[1]>0?this.score[1]--:-1!==this.pong.value&&(this.score[0]+=this.pong.value):-1===this.pong.value&&this.score[0]>0?this.score[0]--:-1!==this.pong.value&&(this.score[1]+=this.pong.value),setTimeout((function(){if(i.over())i.setState("game-over");else{i.setState("relaunch-countdown"),i.timer=2;for(var e=0;e<3;e++)setTimeout((function(){i.timer--,0===i.timer?s.playBip(s.BIP_FINAL):i.timer>0&&s.playBip(s.BIP),-1===i.timer&&"relaunch-countdown"===i.state&&i.setState("in-game")}),1e3*e);t?i.pong.relaunchPong("right"):i.pong.relaunchPong("left"),i.frames_since_point=0}}),500)}},{key:"setState",value:function(t){this.state=t,s.playAppropriateMusic(this.state,this.map.name)}}]),t}(),E=function(){function t(i,e,s){(0,o.Z)(this,t),this.walls=void 0,this.index=void 0,this.width=void 0,this.height=void 0,this.wall_width=void 0,this.background=void 0,this.object_color=void 0,this.name=void 0,this.index=i,this.name="original",this.width=0,this.height=0,this.wall_width=0,this.object_color="",this.walls=[[[0,0],[0,0]]],this.resize(e,s)}return(0,n.Z)(t,[{key:"originalMap",value:function(){this.object_color="white",this.background=null}},{key:"cityMap",value:function(){this.object_color="#ffffff",r&&(this.background=r.CITY_BACKGROUND)}},{key:"casinoMap",value:function(){this.object_color="#ffffff",r&&(this.background=r.TOKYO_BACKGROUND)}},{key:"secretMap",value:function(){this.object_color="#ffffff",this.background=null}},{key:"render",value:function(t){var i=this.width*t,s=this.height*t,o=s/75,n=s-s/75;e.push(),e.noStroke(),this.background&&e.image(this.background,0,0,i,s),e.push(),e.fill("rgba(0, 0, 0, 0.60)"),e.rect(0,0,i,s),e.pop(),e.fill(this.object_color),1===t&&(e.push(),e.fill("rgba(255, 255, 255, 0.6)"),e.textSize(r.small_font_size/2),e.text("Room #"+_.room_id,.02*r.WIDTH,.03*r.HEIGHT+r.small_font_size/2),B(i,s),e.pop()),e.push(),e.stroke(this.object_color);for(var a=o;a<n;a+=8*this.wall_width*t)e.rect(i/2,a,this.wall_width*t,2*this.wall_width*t);var h,u=(0,l.Z)(this.walls);try{for(u.s();!(h=u.n()).done;){var m=h.value;e.rect(m[0][0]*t,m[0][1]*t,m[1][0]*t,m[1][1]*t)}}catch(H){u.e(H)}finally{u.f()}if(e.pop(),e.pop(),"city"===this.name){var d,c=(0,l.Z)(f);try{for(c.s();!(d=c.n()).done;){d.value.render(t)}}catch(H){c.e(H)}finally{c.f()}}if("secret"===this.name){var p,I=(0,l.Z)(_.breakouts);try{for(I.s();!(p=I.n()).done;){p.value.render()}}catch(H){I.e(H)}finally{I.f()}}}},{key:"resize",value:function(t,i){this.width=t,this.height=i,this.wall_width=this.width/240,this.walls=[[[this.wall_width,this.wall_width],[this.width-2*this.wall_width,this.wall_width]],[[this.wall_width,this.height-2*this.wall_width],[this.width-2*this.wall_width,this.wall_width]]],1===this.index?this.originalMap():2===this.index?(this.name="city",this.cityMap()):3===this.index?(this.name="casino",this.casinoMap()):4===this.index&&(this.walls=[[[this.wall_width,this.wall_width],[this.width-2*this.wall_width,this.wall_width]],[[this.wall_width,this.height-2*this.wall_width],[this.width-2*this.wall_width,this.wall_width]],[[this.width-2*this.wall_width,this.wall_width],[this.wall_width,this.height-2*this.wall_width]]],this.name="secret",this.secretMap())}}]),t}(),D=function(){function t(){(0,o.Z)(this,t),this.join=void 0,this.score_limit=void 0,this.reset(),this.create_inputs()}return(0,n.Z)(t,[{key:"reset",value:function(){this.join&&this.join.remove(),this.join=null,this.score_limit&&this.score_limit.remove(),this.score_limit=null}},{key:"create_inputs",value:function(){this.join=z(""),this.join.size(r.WIDTH/1.75,r.HEIGHT/8),this.score_limit=z(""),this.score_limit.attribute("disabled","true"),this.score_limit.style("text-align","center"),this.score_limit.size(r.WIDTH/12,r.HEIGHT/10),this.hide(),this.addParent()}},{key:"resize",value:function(){this.join.size(r.WIDTH/1.75,r.HEIGHT/8),this.join.style("font-size",r.std_font_size.toString()+"px"),this.join.style("border",(r.DIAGONAL/250).toString()+"px solid white"),this.score_limit.size(r.WIDTH/12,r.HEIGHT/10),this.score_limit.style("font-size",r.std_font_size.toString()+"px"),this.score_limit.style("border",(r.DIAGONAL/250).toString()+"px solid white")}},{key:"hide",value:function(){this.join.hide(),this.score_limit.hide()}},{key:"addParent",value:function(){x&&(this.join.parent(document.getElementById("input-join")),this.score_limit.parent(document.getElementById("input-score_limit")))}}]),t}(),w=(0,n.Z)((function t(){(0,o.Z)(this,t),this.w=void 0,this.a=void 0,this.s=void 0,this.d=void 0,this.up=void 0,this.left=void 0,this.down=void 0,this.right=void 0,this.w=e.loadImage("".concat("/portfoliOS","/assets/keys/w-key.gif")),this.a=e.loadImage("".concat("/portfoliOS","/assets/keys/tile-a.png")),this.s=e.loadImage("".concat("/portfoliOS","/assets/keys/s-key.gif")),this.d=e.loadImage("".concat("/portfoliOS","/assets/keys/tile-d.png")),this.up=e.loadImage("".concat("/portfoliOS","/assets/keys/up-key.gif")),this.left=e.loadImage("".concat("/portfoliOS","/assets/keys/tile-left.png")),this.down=e.loadImage("".concat("/portfoliOS","/assets/keys/down-key.gif")),this.right=e.loadImage("".concat("/portfoliOS","/assets/keys/tile-right.png"))})),A=function(){function t(i,e,s,n){(0,o.Z)(this,t),this.pos=void 0,this.vel=void 0,this.moving=void 0,this.left=void 0,this.text=void 0,this.initial_speed=void 0,this.slow_speed=void 0,this.transition_speed=void 0,this.initial_speed=s?.03*r.DIAGONAL:.03*-r.DIAGONAL,this.slow_speed=s?.001*r.DIAGONAL:.001*-r.DIAGONAL,this.left=s,this.pos=new L([i,e]),this.vel=new L([this.initial_speed,0]),this.text=n,this.moving=!1,this.transition_speed=r.DIAGONAL/400}return(0,n.Z)(t,[{key:"calculatePos",value:function(){this.left?(this.pos.x>.2*r.WIDTH&&this.pos.x<.6*r.WIDTH?this.vel.lerp(new L([this.slow_speed,0]),this.transition_speed):this.pos.x>.6*r.WIDTH&&this.vel.lerp(new L([4*this.initial_speed,0]),2*this.transition_speed),this.pos.x>r.WIDTH+this.text.length*r.std_font_size&&(this.moving=!1)):(this.pos.x>.4*r.WIDTH&&this.pos.x<.8*r.WIDTH?this.vel.lerp(new L([this.slow_speed,0]),this.transition_speed):this.pos.x<.4*r.WIDTH&&this.vel.lerp(new L([4*this.initial_speed,0]),2*this.transition_speed),this.pos.x+this.text.length*r.std_font_size<0&&(this.moving=!1)),this.pos.x+=this.vel.x,this.pos.y+=this.vel.y}},{key:"render",value:function(){e.push(),e.fill("white"),e.textAlign(e.CENTER),e.textSize(r.std_font_size),e.text(this.text,this.pos.x,this.pos.y),e.pop()}}]),t}(),O=function(){function t(i,e){(0,o.Z)(this,t),this.pos=[0,0],this.width=r.BREAKOUT_WIDTH,this.height=r.BREAKOUT_HEIGHT,this.color="white",this.pos=i,this.color=e}return(0,n.Z)(t,[{key:"render",value:function(){e.push(),e.fill(this.color),e.strokeWeight(0),e.rect(this.pos[0],this.pos[1],this.width,this.height),e.pop()}},{key:"resize",value:function(){var t=this.pos[0]/r.OLD_WIDTH,i=this.pos[1]/r.OLD_HEIGHT;this.width=r.BREAKOUT_WIDTH,this.height=r.BREAKOUT_HEIGHT,this.pos=[r.WIDTH*t,r.HEIGHT*i]}},{key:"checkCollisions",value:function(){for(var t=[_.pong.up(),_.pong.right(),_.pong.down(),_.pong.left()],i=0;i<4;i++){var e=[[-1,-1,"side"]];if(ht(this,e,t[i]),-1!==e[0][0])return s.playRandomPaddleSound(),_.pong.velocity[0]*=-1,_.breakouts.splice(_.breakouts.indexOf(this),1),0===_.breakouts.length&&_.setState("game-over"),!0}return!1}},{key:"leftDown",value:function(){return[this.pos[0],this.pos[1]+this.height]}},{key:"leftUp",value:function(){return[this.pos[0],this.pos[1]]}},{key:"rightDown",value:function(){return[this.pos[0]+this.width,this.pos[1]+this.height]}},{key:"rightUp",value:function(){return[this.pos[0]+this.width,this.pos[1]+this.height]}}]),t}(),G=function(){function t(i,e,s,n){(0,o.Z)(this,t),this.pos=[0,0],this.velocity=[0,0],this.width=r.PLAYER_WIDTH,this.height=r.PLAYER_HEIGHT,this.color="white",this.index=0,this.id="0",this.ready=!1,this.username=void 0,this.real_id=void 0,this.moving_name=void 0,this.timestep=void 0,this.pos=1===i?[r.WIDTH/12,r.HEIGHT/2-r.PLAYER_HEIGHT/2]:[11*r.WIDTH/12,r.HEIGHT/2-r.PLAYER_HEIGHT/2],this.timestep=0,this.velocity=[0,0],this.width=r.PLAYER_WIDTH,this.height=r.PLAYER_HEIGHT,this.color=_.map.object_color,this.index=i,this.id=e,this.real_id=n,this.ready=!1,this.username=s,this.moving_name=1===i?new A(2*-r.WIDTH+s.length*r.std_font_size,.35*r.HEIGHT,!0,s):new A(2*r.WIDTH-s.length*r.std_font_size,.65*r.HEIGHT+r.std_font_size,!1,s)}return(0,n.Z)(t,[{key:"moveName",value:function(){this.moving_name.moving=!0}},{key:"render",value:function(){e.push(),e.noStroke(),e.fill(this.color),e.rect(this.pos[0],this.pos[1],this.width,this.height),e.pop()}},{key:"resize",value:function(){var t=this.pos[1]/r.OLD_HEIGHT;this.width=r.PLAYER_WIDTH,this.height=r.PLAYER_HEIGHT,1===this.index?this.pos=[r.WIDTH/12,r.HEIGHT*t]:this.pos=[11*r.WIDTH/12,r.HEIGHT*t]}},{key:"calculateNewPos",value:function(){this.pos[1]+=this.velocity[1],this.pos[1]<r.TOP_BOUND&&(this.pos[1]=r.TOP_BOUND),this.pos[1]+this.height>r.BOT_BOUND&&(this.pos[1]=r.BOT_BOUND-this.height)}},{key:"distanceTo",value:function(t){return Math.sqrt(Math.pow(t[0]-(this.pos[0]+this.width/2),2)+Math.pow(t[1]-(this.pos[1]+this.height/2),2))}},{key:"moveUp",value:function(t){this.velocity[1]=-r.PLAYER_SPEED,_.local&&_.ai&&2===this.index&&(this.velocity[1]=-t,this.velocity[1]<-r.AI_SPEED&&(this.velocity[1]=-r.AI_SPEED)),this.calculateNewPos()}},{key:"moveDown",value:function(t){this.velocity[1]=r.PLAYER_SPEED,_.local&&_.ai&&2===this.index&&(this.velocity[1]=-t,this.velocity[1]>r.AI_SPEED&&(this.velocity[1]=r.AI_SPEED)),this.calculateNewPos()}},{key:"leftUp",value:function(){return[this.pos[0],this.pos[1]]}},{key:"leftDown",value:function(){return[this.pos[0],this.pos[1]+this.height]}},{key:"rightUp",value:function(){return[this.pos[0]+this.width,this.pos[1]]}},{key:"rightDown",value:function(){return[this.pos[0]+this.width,this.pos[1]+this.height]}}]),t}(),b=function(){function t(){(0,o.Z)(this,t),this.pos=void 0,this.velocity=void 0,this.diameter=void 0,this.speed=void 0,this.color=void 0,this.value=void 0,this.pos=[r.WIDTH/2-r.PONG_DIAMETER/2,r.HEIGHT/2-r.PONG_DIAMETER/2],this.diameter=r.PONG_DIAMETER,this.color=_.map.object_color,this.value=1,this.velocity=[0,0],this.speed=0;var i=Math.random()<.5?"left":"right";this.relaunchPong(i)}return(0,n.Z)(t,[{key:"calculateNewPos",value:function(){this.pos[0]+=this.velocity[0],this.pos[1]+=this.velocity[1],function(){0===_.frames_since_point?_.pong.speed=r.PONG_BASE_SPEED:_.pong.speed<r.PONG_MAX_SPEED&&(_.pong.velocity[0]>0?_.pong.velocity[0]+=r.PONG_ACCELERATION:_.pong.velocity[0]-=r.PONG_ACCELERATION,_.pong.velocity[1]>0?_.pong.velocity[1]+=r.PONG_ACCELERATION:_.pong.velocity[1]-=r.PONG_ACCELERATION,_.pong.speed+=2*r.PONG_ACCELERATION);if(_.frames_since_point++,_.pong.pos[1]<r.TOP_BOUND||_.pong.pos[1]+_.pong.diameter>r.BOT_BOUND)return _.pong.velocity[1]*=-1,_.pong.pos[1]<r.TOP_BOUND?_.pong.pos[1]=r.TOP_BOUND+.005*r.HEIGHT:_.pong.pos[1]+_.pong.diameter>r.BOT_BOUND&&(_.pong.pos[1]=r.BOT_BOUND-_.pong.diameter-.005*r.HEIGHT),void s.playRandomWallSound();if(_.pong.velocity[0]>0&&_.pong.pos[0]+_.pong.diameter>r.RIGHT_BOUND)return"secret"!==_.map.name?_.scorePoint(!0):(_.pong.pos[0]+_.pong.diameter>r.RIGHT_BOUND-2*_.map.wall_width&&(_.pong.pos[0]=r.RIGHT_BOUND-2*_.map.wall_width-_.pong.diameter-.002*r.WIDTH),_.pong.velocity[0]*=-1,void s.playRandomWallSound());if(_.pong.velocity[0]<0&&_.pong.pos[0]<r.LEFT_BOUND)return _.scorePoint(!1);if("city"===_.map.name){var t,i=(0,l.Z)(f);try{for(i.s();!(t=i.n()).done;){var e=t.value;if(e.checkCollision(_.pong))return e.resetAnimation(),s.playRandomBumperSound(),void(F=!0)}}catch(p){i.e(p)}finally{i.f()}}if("secret"===_.map.name){var o,n=(0,l.Z)(_.breakouts);try{for(n.s();!(o=n.n()).done;){if(o.value.checkCollisions())return}}catch(p){n.e(p)}finally{n.f()}}var a;a="secret"===_.map.name||_.pong.pos[0]<r.WIDTH/2?_.players[0]:_.players[1];for(var h=[_.pong.up(),_.pong.right(),_.pong.down(),_.pong.left()],u=0;u<4;u++){var m=0,d=[[-1,-1,"side"]];if(m=rt(a,d,h[u]),-1!==d[0][0]){s.playRandomPaddleSound();var c=Math.abs(m)/(3*Math.PI/12);return"top"===d[0][2]||"bot"===d[0][2]?("top"===d[0][2]?_.pong.velocity[1]=(1+r.PONG_ACCELERATION_ACUTE_ANGLE*c)*_.pong.speed*-Math.cos(m):"bot"===d[0][2]&&(_.pong.velocity[1]=(1+r.PONG_ACCELERATION_ACUTE_ANGLE*c)*_.pong.speed*Math.cos(m)),_.pong.velocity[0]=(1+r.PONG_ACCELERATION_ACUTE_ANGLE*c)*_.pong.speed*-Math.sin(m)):"side"===d[0][2]&&(_.pong.pos[0]<r.WIDTH/2?_.pong.velocity[0]=(1+r.PONG_ACCELERATION_ACUTE_ANGLE*c)*_.pong.speed*Math.cos(m):_.pong.velocity[0]=(1+r.PONG_ACCELERATION_ACUTE_ANGLE*c)*_.pong.speed*-Math.cos(m),_.pong.velocity[1]=(1+r.PONG_ACCELERATION_ACUTE_ANGLE*c)*_.pong.speed*-Math.sin(m)),void(1===a.index&&(F=!0))}}}()}},{key:"resize",value:function(){var t=this.pos[0]/r.OLD_WIDTH,i=this.pos[1]/r.OLD_HEIGHT,e=this.velocity[0]/r.OLD_WIDTH,s=this.velocity[1]/r.OLD_HEIGHT;this.diameter=r.PONG_DIAMETER,this.pos=[r.WIDTH*t,r.HEIGHT*i],this.velocity=[r.WIDTH*e,r.HEIGHT*s]}},{key:"relaunchPong",value:function(t){"secret"===_.map.name&&(t="left"),this.pos=[r.WIDTH/2-r.PONG_DIAMETER/2,r.HEIGHT/2-r.PONG_DIAMETER/2],this.speed=r.PONG_BASE_SPEED;var i=Math.random()<.5?-1:1;"left"===t?this.velocity=[-this.speed,i]:"right"===t&&(this.velocity=[this.speed,i]),this.setNewValue()}},{key:"setNewValue",value:function(){if("casino"===_.map.name){var t=Math.floor(11*Math.random());0===t?this.value=-1:t<=4?this.value=1:t<=7?this.value=2:t<=9?this.value=3:10===t&&(this.value=4)}}},{key:"leftUp",value:function(){return[this.pos[0],this.pos[1]]}},{key:"leftDown",value:function(){return[this.pos[0],this.pos[1]+this.diameter]}},{key:"rightUp",value:function(){return[this.pos[0]+this.diameter,this.pos[1]]}},{key:"rightDown",value:function(){return[this.pos[0]+this.diameter,this.pos[1]+this.diameter]}},{key:"left",value:function(){return[this.pos[0],this.cY()]}},{key:"right",value:function(){return[this.pos[0]+this.diameter,this.cY()]}},{key:"up",value:function(){return[this.cX(),this.pos[1]]}},{key:"down",value:function(){return[this.cX(),this.pos[1]+this.diameter]}},{key:"ballMoves",value:function(t){return[t[0]+this.velocity[0],t[1]+this.velocity[1]]}},{key:"cX",value:function(){return this.pos[0]+this.diameter/2}},{key:"cY",value:function(){return this.pos[1]+this.diameter/2}},{key:"center",value:function(){return[this.cX(),this.cY()]}},{key:"centerNextFrame",value:function(){return[this.cX()+this.velocity[0],this.cY()+this.velocity[1]]}},{key:"render",value:function(){-1===this.value&&(this.color="#80ff80"),1===this.value?this.color="white":2===this.value?this.color="#ffff4d":3===this.value?this.color="#ffa64d":4===this.value&&(this.color="#ff4d4d"),e.push(),e.noStroke(),e.fill(this.color),e.rect(this.pos[0],this.pos[1],this.diameter,this.diameter),e.pop()}}]),t}();function N(t){var i=document.getElementById(t);if(i)for(;i.lastChild;)i.removeChild(i.lastChild)}function S(t,i){var e=new L([t.x,t.y]);return e.x-=i.x,e.y-=i.y,e}var x,k,W,L=function(){function t(i){(0,o.Z)(this,t),this.x=void 0,this.y=void 0,this.x=i[0],this.y=i[1]}return(0,n.Z)(t,[{key:"add",value:function(t){this.x+=t.x,this.y+=t.y}},{key:"mult",value:function(t){this.x*=t,this.y*=t}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){this.x/=this.mag(),this.y/=this.mag()}},{key:"dot",value:function(t){var i=0;return i+=this.x*t.x,i+=this.y*t.y}},{key:"lerp",value:function(t,i){this.x>t.x?this.x-=i:this.x<t.x&&(this.x+=i),this.y>t.y?this.y-=i:this.y<t.y&&(this.y+=i)}}]),t}();function M(){N("button-create"),N("button-join"),N("button-matchmaking"),N("button-anyone"),N("button-invitation"),N("button-local"),N("button-ai"),N("button-validate"),N("button-return"),N("button-sound"),N("button-map-original"),N("button-map-city"),N("button-map-casino"),N("button-map-secret"),N("button-spectate"),N("button-plus"),N("button-minus"),N("input-join"),N("input-score_limit"),N("button-opp-left-ok")}function P(){if(r&&r.resize(),_){var t,i=(0,l.Z)(_.players);try{for(i.s();!(t=i.n()).done;){var e=t.value;e&&e.resize()}}catch(h){i.e(h)}finally{i.f()}if(_.pong&&_.pong.resize(),_.map&&_.map.resize(r.WIDTH,r.HEIGHT),_.breakouts){var s,o=(0,l.Z)(_.breakouts);try{for(o.s();!(s=o.n()).done;){s.value.resize()}}catch(h){o.e(h)}finally{o.f()}}}if(m&&m.resize(),d&&d.resize(),f){var n,a=(0,l.Z)(f);try{for(a.s();!(n=a.n()).done;){n.value.resize()}}catch(h){a.e(h)}finally{a.f()}}}function R(t,i,s,o,n,a){var h=e.createButton(t);return h.style("color","white"),h.style("font-size",(Math.sqrt(Math.pow(n,2)+Math.pow(a,2))/8).toString()+"px"),h.style("font-family","PressStart2P-Regular"),h.style("background-color","black"),h.style("border-radius","1em"),h.size(n,a),h.mousePressed(i),h.mouseOver(s),h.mouseOut(o),h}function z(t){var i=e.createInput(t);return i.style("height",(r.HEIGHT/10).toString()+"px"),i.style("font-size",r.std_font_size.toString()+"px"),i.style("font-family","PressStart2P-Regular"),i.style("background-color","black"),i.style("color","white"),i.style("border",(r.DIAGONAL/250).toString()+"px solid white"),i.style("border-radius","0.5em"),i.style("outline","none"),i.attribute("maxlength","16"),i}function C(t,i,s,o,n){e.push(),e.fill(n),e.noStroke(),e.textSize(i),e.textAlign(e.CENTER),e.text(t,s,o),e.pop()}function U(){C(""+_.timer,r.std_font_size,.505*r.WIDTH,.535*r.HEIGHT,"white")}function B(t,i){"secret"===_.map.name&&_.score_limit-_.score[1]>1?C((_.score_limit-_.score[1]).toString()+" lives left",r.std_font_size,r.WIDTH/2,r.HEIGHT/9,"white"):"secret"===_.map.name&&_.score_limit-_.score[1]===1?C("1 life left",r.std_font_size,r.WIDTH/2,r.HEIGHT/9,"white"):"secret"===_.map.name&&_.score_limit-_.score[1]===0&&C("DEAD",r.std_font_size,r.WIDTH/2,r.HEIGHT/9,"white"),2===_.players.length&&(1===_.players[0].index?(e.push(),e.textSize(r.std_font_size),e.push(),e.fill(_.score[0]>_.score[1]?"white":"grey"),_.score[0].toString().length>1?e.text(_.score[0],t/2-t/10,i/9):e.text(_.score[0],t/2-t/16,i/9),e.pop(),e.push(),e.fill(_.score[1]>_.score[0]?"white":"grey"),e.text(_.score[1],t/2+t/30,i/9),e.pop(),e.pop()):(e.push(),e.textSize(r.std_font_size),e.push(),e.fill(_.score[1]>_.score[0]?"white":"grey"),_.score[1].toString().length>1?e.text(_.score[1],t/2-t/10,i/9):e.text(_.score[1],t/2-t/16,i/9),e.pop(),e.push(),e.fill(_.score[0]>_.score[1]?"white":"grey"),e.text(_.score[0],t/2+t/30,i/9),e.pop(),e.pop()))}function q(){e.push(),e.textSize(r.small_font_size/2),e.fill("rgba(255, 255, 255, 0.6)"),e.textAlign(e.CENTER),1===_.players[0].index?(e.text(_.players[0].username,.1*r.WIDTH,.95*r.HEIGHT),_.players.length>1&&e.text(_.players[1].username,.9*r.WIDTH,.95*r.HEIGHT)):(_.players.length>1&&e.text(_.players[1].username,.1*r.WIDTH,.95*r.HEIGHT),e.text(_.players[0].username,.9*r.WIDTH,.95*r.HEIGHT)),e.pop()}function j(){_.reset(),u.set_false(),m.reset(),d.reset(),d.create_inputs(),_.setState("in-menu")}e.preload=function(){x=document.getElementById("canvas-pong-parent"),r=new y,c=new w,h=e.loadJSON("".concat("/portfoliOS","/assets/sprites/bumper.json")),a=e.loadImage("".concat("/portfoliOS","/assets/sprites/bumper.png"))},e.setup=function(){(p=e.createCanvas(r.WIDTH,r.HEIGHT)).parent(x);for(var t=h.frames,i=0;i<t.length;i++)for(var s=t[i].position,o=a.get(s.x,s.y,s.w,s.h),n=0;n<t[i].time;n++)I.push(o);var l=.1*r.DIAGONAL;if(f.push(new H(I,r.WIDTH/2-l/2,1*r.HEIGHT/4-l/2,l,1)),f.push(new H(I,r.WIDTH/2-l/2,3*r.HEIGHT/4-l/2,l,2)),_||(_=new g),d=new D,u=new T,m=new v,!x)return M(),void e.remove();e.background(0),e.textFont(r.FONT),e.frameRate(60),P()},e.keyPressed=function(){null!==_&&(_.local&&"p"===e.key&&(_.timeout&&clearTimeout(_.timeout),j()),"in-menu-input"===_.state&&e.keyCode===e.ENTER&&"#"===d.join.value()[0]&&d.join.value(d.join.value().slice(1)))},e.draw=function(){if(!(x=document.getElementById("canvas-pong-parent")))return M(),void e.remove();if(k=x.clientWidth,W=x.clientHeight,k===p.width&&W===p.height||(e.noLoop(),P(),e.resizeCanvas(r.WIDTH,r.HEIGHT),e.loop()),s.playAppropriateMusic(_.state,_.map.name),e.push(),0===_.score[0]&&0===_.score[1]||"in-game"!==_.state&&"relaunch-countdown"!==_.state||!(_.frame_count_shake<30)||(_.frame_count_shake++,e.translate(Math.floor(e.random(-5,6)),Math.floor(e.random(-5,6)))),e.clear(0,0,0,0),e.background(0),"waiting-player"!==_.state&&"waiting-readiness"!==_.state&&"countdown"!==_.state&&"relaunch-countdown"!==_.state&&"in-game"!==_.state||_.map.render(1),"in-menu-input"!==_.state&&"waiting-player"!==_.state&&"in-menu-create"!==_.state||e.image(r.RETURN_ICON,.9*r.WIDTH,.01*r.HEIGHT,r.medium_square_diameter,r.medium_square_diameter),"in-menu-create"===_.state&&(r.original_map.originalMap(),e.push(),e.translate(.1*r.WIDTH,.58*r.HEIGHT),r.original_map.render(.2),e.pop(),r.city_map.cityMap(),e.push(),e.translate(.4*r.WIDTH,.58*r.HEIGHT),r.city_map.render(.2),e.pop(),r.casino_map.casinoMap(),e.push(),e.translate(.7*r.WIDTH,.58*r.HEIGHT),r.casino_map.render(.2),e.pop(),C("Game Creation",r.std_font_size,r.WIDTH/2,r.HEIGHT/7,"white"),C("score limit   ",r.medium_font_size,1.2*r.WIDTH/5,.48*r.HEIGHT,"white")),"opponent-left-menu"===_.state&&!0===_.spectator?C("A player left",r.std_font_size,r.WIDTH/2,r.HEIGHT/2,"white"):"opponent-left-menu"===_.state&&C("Your opponent left",r.std_font_size,r.WIDTH/2,r.HEIGHT/2,"white"),"in-menu"===_.state)C("You can press P during a game to quit it",.35*r.small_font_size,.25*r.WIDTH,.05*r.HEIGHT,"rgba(255, 255, 255, 0.6)"),C("The Ponger's Guide",1.25*r.std_font_size,r.WIDTH/2,r.HEIGHT/4,"white"),C("to the Galaxy",1.25*r.std_font_size,r.WIDTH/2,.35*r.HEIGHT,"white");else if("in-menu-input"===_.state)ot(),C("Enter Room ID",r.std_font_size,r.WIDTH/2,2*r.HEIGHT/5,"white"),u.game_full?C("This game is already full",r.small_font_size,r.WIDTH/2,r.HEIGHT/2,"white"):u.game_not_found?C("This game doesn't exist",r.small_font_size,r.WIDTH/2,r.HEIGHT/2,"white"):u.already_in_game&&C("You are already in this game",r.small_font_size,r.WIDTH/2,r.HEIGHT/2,"white");else if("waiting-player"===_.state)_.spectator&&ot(),m.return.show(),e.image(r.RETURN_ICON,.9*r.WIDTH,.01*r.HEIGHT,r.medium_square_diameter,r.medium_square_diameter),C("WAITING FOR ANOTHER PLAYER",r.medium_font_size,r.WIDTH/2,r.HEIGHT/2,"white");else if("waiting-readiness"===_.state)_.spectator&&ot(),function(){var t,i,s,o=(0,l.Z)(_.players);try{for(o.s();!(s=o.n()).done;){var n=s.value;e.push(),e.textAlign(e.CENTER),e.fill("white"),e.push(),e.textSize(r.std_font_size),e.text("P"+n.index,1===n.index?r.WIDTH/4:3*r.WIDTH/4,2*r.HEIGHT/3),e.pop(),!0===n.ready?1===n.index?t=r.MARK_ICON:i=r.MARK_ICON:1===n.index?t=r.CROSS_ICON:i=r.CROSS_ICON2,e.pop()}}catch(a){o.e(a)}finally{o.f()}e.image(t,.3*r.WIDTH,.58*r.HEIGHT,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(i,.8*r.WIDTH,.58*r.HEIGHT,1.5*r.small_square_diameter,1.5*r.small_square_diameter)}(),C("PLEASE PRESS SPACE TO START THE GAME",r.medium_font_size,r.WIDTH/2,r.HEIGHT/2,"white");else if("countdown"===_.state){_.spectator&&ot(),U(),st(),_.local||_.spectator||function(){var t=_.players[0].index,i=.025*r.DIAGONAL+J;Q?J+=5e-4*r.DIAGONAL:J-=5e-4*r.DIAGONAL;J>=.01*r.DIAGONAL?Q=!1:J<=0&&(Q=!0);e.push(),e.fill("white"),e.noStroke(),1===t?e.triangle(r.WIDTH/6,r.HEIGHT/2,r.WIDTH/6+i,r.HEIGHT/2+i,r.WIDTH/6+i,r.HEIGHT/2-i):e.triangle(5*r.WIDTH/6,r.HEIGHT/2,5*r.WIDTH/6-i,r.HEIGHT/2+i,5*r.WIDTH/6-i,r.HEIGHT/2-i);e.pop()}(),_.spectator||(_.local&&!_.ai?("secret"!==_.map.name&&(e.image(c.up,.78*r.WIDTH+1.5*r.small_square_diameter/2,.66*r.HEIGHT+1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.left,.71*r.WIDTH+1.5*r.small_square_diameter/2,.75*r.HEIGHT+1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.down,.78*r.WIDTH+1.5*r.small_square_diameter/2,.75*r.HEIGHT+1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.right,.85*r.WIDTH+1.5*r.small_square_diameter/2,.75*r.HEIGHT+1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter)),e.image(c.w,.21*r.WIDTH-1.5*r.small_square_diameter/2,.16*r.HEIGHT-1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.a,.15*r.WIDTH-1.5*r.small_square_diameter/2,.25*r.HEIGHT-1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.s,.22*r.WIDTH-1.5*r.small_square_diameter/2,.25*r.HEIGHT-1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.d,.29*r.WIDTH-1.5*r.small_square_diameter/2,.25*r.HEIGHT-1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter)):2===_.players[0].index?(e.image(c.up,.78*r.WIDTH+1.5*r.small_square_diameter/2,.66*r.HEIGHT+1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.left,.71*r.WIDTH+1.5*r.small_square_diameter/2,.75*r.HEIGHT+1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.down,.78*r.WIDTH+1.5*r.small_square_diameter/2,.75*r.HEIGHT+1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.right,.85*r.WIDTH+1.5*r.small_square_diameter/2,.75*r.HEIGHT+1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter)):(e.image(c.w,.21*r.WIDTH-1.5*r.small_square_diameter/2,.16*r.HEIGHT-1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.a,.15*r.WIDTH-1.5*r.small_square_diameter/2,.25*r.HEIGHT-1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.s,.22*r.WIDTH-1.5*r.small_square_diameter/2,.25*r.HEIGHT-1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter),e.image(c.d,.29*r.WIDTH-1.5*r.small_square_diameter/2,.25*r.HEIGHT-1.5*r.small_square_diameter/2,1.5*r.small_square_diameter,1.5*r.small_square_diameter)));for(var t=0;t<_.players.length;t++)_.players[t].render(),_.players[t].moveName();var i,o=(0,l.Z)(_.players);try{for(o.s();!(i=o.n()).done;){var n=i.value;n.moving_name.moving&&(n.moving_name.render(),n.moving_name.calculatePos())}}catch(v){o.e(v)}finally{o.f()}}else if("relaunch-countdown"===_.state){_.spectator&&ot(),U(),X();var a,h=(0,l.Z)(_.players);try{for(h.s();!(a=h.n()).done;){a.value.render()}}catch(v){h.e(v)}finally{h.f()}_.pong.render(),st(),q()}else if("in-game"===_.state){if(_.spectator&&ot(),X(),"in-game"===_.state){for(var d=0;d<_.players.length;d++)_.players[d].render();if(_.pong.render(),"city"===_.map.name){var I,H=(0,l.Z)(f);try{for(H.s();!(I=H.n()).done;){I.value.render()}}catch(v){H.e(v)}finally{H.f()}}}_.frames_since_point<180&&"casino"===_.map.name&&C(_.pong.value+(1===_.pong.value||-1===_.pong.value?" point":" points"),r.std_font_size,.5*r.WIDTH,.95*r.HEIGHT,_.pong.color),q()}else"game-over"===_.state&&(m.opponent_left_ok.show(),2===_.players.length?C((_.score[0]>_.score[1]?_.players[0].username:_.players[1].username)+" won the game!",r.std_font_size,e.width/2,e.height/2,"white"):"secret"===_.map.name&&(_.score[1]<_.score_limit?C("You won!",r.std_font_size,e.width/2,e.height/2,"white"):C("You lost.",r.std_font_size,e.width/2,e.height/2,"white")),B(r.WIDTH,r.HEIGHT));"in-menu"!==_.state&&"waiting-player"!==_.state&&"waiting-readiness"!==_.state||(!function(){e.push(),tt&&e.tint(200,200,200);e.image(r.SOUND_ICON,.8*r.WIDTH,.02*r.HEIGHT,1.65*r.small_square_diameter,1.65*r.small_square_diameter),e.pop();var t=1.65*r.small_square_diameter/6;e.push(),e.fill("white"),e.noStroke();for(var i=0;i<4*s.max_volume;i++)e.rect(.88*r.WIDTH,.03*r.HEIGHT+t*i+t/3*i,t,t);e.pop()}(),m.sound.show()),e.pop()};var Y=0,K=0,Z=0,F=!0;function X(){if(!_.spectator){if(e.keyIsDown(87)?_.players[0].moveUp(0):e.keyIsDown(83)?_.players[0].moveDown(0):_.players[0].velocity[1]=0,_.ai)if(F&&(K=Math.random()*r.PLAYER_HEIGHT,F=!1),Y>K&&(Y-=.05*r.PLAYER_HEIGHT),Y<K&&(Y+=.05*r.PLAYER_HEIGHT),Z=_.players[1].pos[1]+Y,_.pong.velocity[0]>0){var t=Z-_.pong.cY();t>0?_.players[1].moveUp(t):t<0?_.players[1].moveDown(t):_.players[1].velocity[1]=0}else{var i=r.HEIGHT/2-(_.players[1].pos[1]+_.players[1].height/2);i<0?_.players[1].moveUp(-i):_.players[1].moveDown(-i)}else"secret"!==_.map.name&&(e.keyIsDown(e.UP_ARROW)?_.players[1].moveUp(0):e.keyIsDown(e.DOWN_ARROW)?_.players[1].moveDown(0):_.players[1].velocity[1]=0);"relaunch-countdown"!==_.state&&_.local&&_.pong.calculateNewPos()}}var J=0,V=0,Q=!0,$=!0,tt=!1;function it(){tt=!0}function et(){tt=!1}function st(){var t=.01*r.DIAGONAL+V;$?V+=5e-4*r.DIAGONAL:V-=5e-4*r.DIAGONAL,V>=.005*r.DIAGONAL?$=!1:V<=0&&($=!0),e.push(),e.fill("white"),e.noStroke(),_.pong.velocity[0]<0?e.triangle(r.WIDTH/2.5,.49*r.HEIGHT+t/2,r.WIDTH/2.5+t,.49*r.HEIGHT+t+t/2,r.WIDTH/2.5+t,.49*r.HEIGHT-t+t/2):_.pong.velocity[0]>0&&e.triangle(1.5*r.WIDTH/2.5,.49*r.HEIGHT+t/2,1.5*r.WIDTH/2.5-t,.49*r.HEIGHT+t+t/2,1.5*r.WIDTH/2.5-t,.49*r.HEIGHT-t+t/2),e.pop()}function ot(){"in-menu-input"===_.state?e.image(r.EYE_ICON,.04*r.WIDTH,.01*r.HEIGHT,.1*r.WIDTH,.15*r.HEIGHT):e.image(r.EYE_ICON,.04*r.WIDTH,.05*r.HEIGHT,.1*r.WIDTH,.15*r.HEIGHT),!0===_.hover_spectator&&(e.push(),e.fill("rgba(0, 0, 0, 0.2)"),e.rect(.04*r.WIDTH,.01*r.HEIGHT,.1*r.WIDTH,.15*r.HEIGHT),e.pop()),!0===_.spectator&&"in-menu-input"===_.state?C("Spectate",r.std_font_size,.32*r.WIDTH,.11*r.HEIGHT,"white"):!1===_.spectator&&"in-menu-input"===_.state&&C("Play",r.std_font_size,.25*r.WIDTH,.11*r.HEIGHT,"white")}function nt(t,i,e,s){var o=[i[0]-t[0],i[1]-t[1]],n=[s[0]-e[0],s[1]-e[1]],a=(-o[1]*(t[0]-e[0])+o[0]*(t[1]-e[1]))/(-n[0]*o[1]+o[0]*n[1]),h=(n[0]*(t[1]-e[1])-n[1]*(t[0]-e[0]))/(-n[0]*o[1]+o[0]*n[1]),r=[-1,-1,"side"];return a>=0&&a<=1&&h>=0&&h<=1?(r[0]=t[0]+h*o[0],r[1]=t[1]+h*o[1],r):r}function at(t,i,e){var s=[i[0]+(e[0]-i[0])/2-t[0],i[1]+(e[1]-i[1])/2-t[1]];return"side"===t[2]||"left"===t[2]||"right"===t[2]?s[1]/((e[1]-i[1])/2)*(3*Math.PI/12):s[0]/((e[0]-i[0])/2)*(3*Math.PI/12)}function ht(t,i,e){var s=[t.leftUp(),t.leftDown()],o=[t.rightUp(),t.rightDown()],n=[t.leftDown(),t.rightDown()],a=[t.leftUp(),t.rightUp()];i[0]=nt(e,_.pong.ballMoves(e),s[0],s[1]),-1===i[0][0]&&(i[0]=nt(e,_.pong.ballMoves(e),o[0],o[1]),-1===i[0][0]&&(i[0]=nt(e,_.pong.ballMoves(e),n[0],n[1]),-1===i[0][0]&&(i[0]=nt(e,_.pong.ballMoves(e),a[0],a[1]),i[0][0])))}function rt(t,i,e){var s=1===t.index?[t.rightUp(),t.rightDown()]:[t.leftUp(),t.leftDown()],o=[t.leftDown(),t.rightDown()],n=[t.leftUp(),t.rightUp()];return i[0]=nt(e,_.pong.ballMoves(e),s[0],s[1]),i[0][2]="side",-1!==i[0][0]?at(i[0],s[0],s[1]):(i[0]=nt(e,_.pong.ballMoves(e),o[0],o[1]),i[0][2]="bot",-1!==i[0][0]?at(i[0],o[0],o[1]):(i[0]=nt(e,_.pong.ballMoves(e),n[0],n[1]),i[0][2]="top",-1!==i[0][0]?at(i[0],n[0],n[1]):0))}function lt(){e.mouseButton===e.LEFT&&j()}function _t(){e.mouseButton===e.LEFT&&(_.map=r.secret_map,_.score_limit=10,Nt())}function ut(){e.mouseButton===e.LEFT?(s.max_volume+=.25,.25===s.max_volume&&"in-menu"===_.state?s.switchMusic("menu"):.25!==s.max_volume||"waiting-player"!==_.state&&"waiting-readiness"!==_.state||s.switchMusic(_.map.name)):e.mouseButton===e.RIGHT&&(s.max_volume-=.25),s.max_volume>1?s.max_volume=0:s.max_volume<0&&(s.max_volume=1),s.musicPlaying().volume=s.max_volume}function mt(){e.mouseButton===e.LEFT&&(m.hide(),d.hide(),m.return.show(),m.anyone_can_join.show(),m.local.show(),m.invitation_only.show(),m.validate.show(),m.plus.show(),m.minus.show(),d.score_limit.show(),d.score_limit.attribute("value",_.score_limit),m.opponent_left_ok.parent().style["z-index"]=0,m.map_original.show(),m.map_city.show(),m.map_casino.show(),_.setState("in-menu-create"))}function dt(){e.mouseButton===e.LEFT&&"local"===_.publicity&&Nt()}function ct(){}function pt(){this.style("color","#d4d4d4"),_.hover_spectator=!0}function It(){this.style("color","white"),_.hover_spectator=!1}function ft(){this.style("color","#d4d4d4")}function Ht(){this.style("color","white")}function vt(){e.mouseButton===e.LEFT&&_.score_limit<15&&(_.score_limit++,d.score_limit.attribute("value",_.score_limit))}function yt(){e.mouseButton===e.LEFT&&_.score_limit>1&&(_.score_limit--,d.score_limit.attribute("value",_.score_limit))}function Tt(){e.mouseButton===e.LEFT&&(_.setState("in-menu-input"),m.hide(),d.hide(),d.join.show(),m.return.show(),m.spectate.show())}function gt(){e.mouseButton===e.LEFT&&(_.spectator=!_.spectator,_.spectator?_.spectator&&this.style("border-color","#177bad"):this.style("border-color","white"))}function Et(){e.mouseButton===e.LEFT&&(_.publicity=m.clickAnyone())}function Dt(){e.mouseButton===e.LEFT&&(_.publicity=m.clickInvitation())}function wt(){e.mouseButton===e.LEFT&&(_.publicity=m.clickLocal())}function At(){e.mouseButton===e.LEFT&&(_.ai?this.style("border","none"):this.style("border",(r.DIAGONAL/250).toString()+"px solid white"),_.ai=!_.ai)}function Ot(){e.mouseButton===e.LEFT&&(this.style("border",(r.DIAGONAL/250).toString()+"px solid white"),m.map_city.style("border","none"),m.map_casino.style("border","none"),_.map=r.original_map)}function Gt(){e.mouseButton===e.LEFT&&(this.style("border",(r.DIAGONAL/250).toString()+"px solid white"),m.map_original.style("border","none"),m.map_casino.style("border","none"),_.map=r.city_map)}function bt(){e.mouseButton===e.LEFT&&(this.style("border",(r.DIAGONAL/250).toString()+"px solid white"),m.map_city.style("border","none"),m.map_original.style("border","none"),_.map=r.casino_map)}function Nt(){_.local=!0,m.hide(),d.hide(),_.timer=4;for(var t=_,i=0;i<5;i++)_.timeout=setTimeout((function(){t.timer--,0===t.timer?s.playBip(s.BIP_FINAL):t.timer>=0&&s.playBip(s.BIP),-1===t.timer&&"countdown"===t.state&&t.setState("in-game")}),1e3*i);_.setState("countdown"),_.players.push(new G(1,"first","P1",0)),"secret"!==_.map.name?_.players.push(new G(2,"second","P2",0)):function(){for(var t=10,i=(r.HEIGHT-2*r.secret_map.wall_width-r.BREAKOUT_HEIGHT*t)/12,e=0;e<t;e++)_.breakouts.push(new O([.8*r.WIDTH,r.secret_map.wall_width+i+e*(i+r.BREAKOUT_HEIGHT)],"#6699ff"));for(var s=0;s<t;s++)_.breakouts.push(new O([.8*r.WIDTH+1.5*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+s*(i+r.BREAKOUT_HEIGHT)],"#6699ff"));for(var o=0;o<t;o++)_.breakouts.push(new O([.8*r.WIDTH+3*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+o*(i+r.BREAKOUT_HEIGHT)],"#00cc66"));for(var n=0;n<t;n++)_.breakouts.push(new O([.8*r.WIDTH+4.5*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+n*(i+r.BREAKOUT_HEIGHT)],"#00cc66"));for(var a=0;a<t;a++)_.breakouts.push(new O([.8*r.WIDTH+6*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+a*(i+r.BREAKOUT_HEIGHT)],"#ffff00"));for(var h=0;h<t;h++)_.breakouts.push(new O([.8*r.WIDTH+7.5*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+h*(i+r.BREAKOUT_HEIGHT)],"#ffff00"));for(var l=0;l<t;l++)_.breakouts.push(new O([.8*r.WIDTH+9*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+l*(i+r.BREAKOUT_HEIGHT)],"#ff9933"));for(var u=0;u<t;u++)_.breakouts.push(new O([.8*r.WIDTH+10.5*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+u*(i+r.BREAKOUT_HEIGHT)],"#ff9933"));for(var m=0;m<t;m++)_.breakouts.push(new O([.8*r.WIDTH+12*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+m*(i+r.BREAKOUT_HEIGHT)],"#ff0000"));for(var d=0;d<t;d++)_.breakouts.push(new O([.8*r.WIDTH+13.5*r.BREAKOUT_WIDTH,r.secret_map.wall_width+i+d*(i+r.BREAKOUT_HEIGHT)],"#ff0000"))}(),_.pong=new b,_.room_id="Local"}}},u=e(1248),m=e(184),d=function(){function t(){(0,o.Z)(this,t),this.PADDLE_HIT_1=void 0,this.PADDLE_HIT_2=void 0,this.BUMPER_HIT_1=void 0,this.BUMPER_HIT_2=void 0,this.WALL_HIT_1=void 0,this.WALL_HIT_2=void 0,this.BIP=void 0,this.BIP_FINAL=void 0,this.SCORE=void 0,this.CASINO_MUSIC=void 0,this.CITY_MUSIC=void 0,this.ORIGINAL_MUSIC=void 0,this.MENU_MUSIC=void 0,this.music_playing=void 0,this.max_volume=void 0,this.PADDLE_HIT_1=new Audio("".concat("/portfoliOS","/assets/sfx/paddle_hit_1.mp3")),this.PADDLE_HIT_2=new Audio("".concat("/portfoliOS","/assets/sfx/paddle_hit_2.mp3")),this.BUMPER_HIT_1=new Audio("".concat("/portfoliOS","/assets/sfx/bumper_hit_1.mp3")),this.BUMPER_HIT_2=new Audio("".concat("/portfoliOS","/assets/sfx/bumper_hit_2.mp3")),this.WALL_HIT_1=new Audio("".concat("/portfoliOS","/assets/sfx/paddle_hit_1.mp3")),this.WALL_HIT_2=new Audio("".concat("/portfoliOS","/assets/sfx/paddle_hit_2.mp3")),this.BIP=new Audio("".concat("/portfoliOS","/assets/sfx/bip.mp3")),this.BIP_FINAL=new Audio("".concat("/portfoliOS","/assets/sfx/bip-final.mp3")),this.SCORE=new Audio("".concat("/portfoliOS","/assets/sfx/score.mp3")),this.max_volume=0,this.CASINO_MUSIC=new Audio("".concat("/portfoliOS","/assets/music/casino.mp3")),this.CASINO_MUSIC.loop=!0,this.CASINO_MUSIC.volume=this.max_volume,this.CITY_MUSIC=new Audio("".concat("/portfoliOS","/assets/music/city.mp3")),this.CITY_MUSIC.loop=!0,this.CITY_MUSIC.volume=this.max_volume,this.ORIGINAL_MUSIC=new Audio("".concat("/portfoliOS","/assets/music/original.mp3")),this.ORIGINAL_MUSIC.loop=!0,this.ORIGINAL_MUSIC.volume=this.max_volume,this.MENU_MUSIC=new Audio("".concat("/portfoliOS","/assets/music/menu.mp3")),this.MENU_MUSIC.loop=!0,this.MENU_MUSIC.volume=this.max_volume,this.music_playing="none",this.PADDLE_HIT_1.autoplay=!1,this.PADDLE_HIT_2.autoplay=!1,this.BUMPER_HIT_1.autoplay=!1,this.BUMPER_HIT_2.autoplay=!1,this.WALL_HIT_1.autoplay=!1,this.WALL_HIT_2.autoplay=!1,this.BIP.autoplay=!1,this.BIP_FINAL.autoplay=!1,this.SCORE.autoplay=!1,this.MENU_MUSIC.autoplay=!1,this.ORIGINAL_MUSIC.autoplay=!1,this.CITY_MUSIC.autoplay=!1,this.CASINO_MUSIC.autoplay=!1}return(0,n.Z)(t,[{key:"deleteAudio",value:function(){this.fadeMusicDown(this.PADDLE_HIT_1),this.fadeMusicDown(this.PADDLE_HIT_2),this.fadeMusicDown(this.BUMPER_HIT_1),this.fadeMusicDown(this.BUMPER_HIT_2),this.fadeMusicDown(this.WALL_HIT_1),this.fadeMusicDown(this.WALL_HIT_2),this.fadeMusicDown(this.BIP),this.fadeMusicDown(this.BIP_FINAL),this.fadeMusicDown(this.SCORE),this.fadeMusicDown(this.CASINO_MUSIC),this.fadeMusicDown(this.CITY_MUSIC),this.fadeMusicDown(this.MENU_MUSIC),this.fadeMusicDown(this.ORIGINAL_MUSIC)}},{key:"playBip",value:function(t){t.currentTime=0,t.volume=this.max_volume,t.play()}},{key:"playScore",value:function(){this.SCORE.currentTime=0,this.SCORE.volume=this.max_volume,this.SCORE.play()}},{key:"playRandomPaddleSound",value:function(){this.PADDLE_HIT_1.volume=this.max_volume,this.PADDLE_HIT_2.volume=this.max_volume;var t=Math.floor(2*Math.random());0===t?this.PADDLE_HIT_1.play():1===t&&this.PADDLE_HIT_2.play()}},{key:"playRandomWallSound",value:function(){this.WALL_HIT_1.volume=this.max_volume,this.WALL_HIT_2.volume=this.max_volume;var t=Math.floor(2*Math.random());0===t?this.WALL_HIT_1.play():1===t&&this.WALL_HIT_2.play()}},{key:"playRandomBumperSound",value:function(){this.BUMPER_HIT_1.volume=this.max_volume,this.BUMPER_HIT_2.volume=this.max_volume;var t=Math.floor(2*Math.random());0===t?this.BUMPER_HIT_1.play():1===t&&this.BUMPER_HIT_2.play()}},{key:"musicPlaying",value:function(){return"menu"===this.music_playing?this.MENU_MUSIC:"casino"===this.music_playing?this.CASINO_MUSIC:"city"===this.music_playing?this.CITY_MUSIC:"original"===this.music_playing?this.ORIGINAL_MUSIC:"none"}},{key:"fadeMusicDown",value:function(t){t.pause()}},{key:"fadeMusicUp",value:function(t){0!==this.max_volume&&(t.currentTime=0,t.volume=this.max_volume,t.play())}},{key:"switchMusic",value:function(t){var i=this.musicPlaying();"none"!==i?("menu"===t?(this.fadeMusicDown(i),this.fadeMusicUp(this.MENU_MUSIC)):"original"===t?(this.fadeMusicDown(i),this.fadeMusicUp(this.ORIGINAL_MUSIC)):"city"===t?(this.fadeMusicDown(i),this.fadeMusicUp(this.CITY_MUSIC)):"casino"===t&&(this.fadeMusicDown(i),this.fadeMusicUp(this.CASINO_MUSIC)),"none"===t&&this.fadeMusicDown(i),this.music_playing=t):("menu"===t?this.fadeMusicUp(this.MENU_MUSIC):"original"===t?this.fadeMusicUp(this.ORIGINAL_MUSIC):"city"===t?this.fadeMusicUp(this.CITY_MUSIC):"casino"===t&&this.fadeMusicUp(this.CASINO_MUSIC),this.music_playing=t)}},{key:"playAppropriateMusic",value:function(t,i){"countdown"!==t&&"spectate"!==t&&"in-game"!==t&&"waiting-readiness"!==t&&"waiting-player"!==t||"menu"!==this.music_playing?"in-menu"!==t&&"in-menu-create"!==t&&"in-menu-input"!==t||"menu"===this.music_playing||this.switchMusic("menu"):this.switchMusic(i)}}]),t}(),c=function(t){t.forcedUpdate;return(0,r.useEffect)((function(){s=new d;var t=_(u.E4,u.dU);return new(h())(t),function(){s.deleteAudio()}}),[]),(0,m.jsxs)("div",{className:"Canvas",id:"canvas-pong-parent",children:[(0,m.jsxs)("div",{id:"main-menu-button-grid",children:[(0,m.jsx)("div",{id:"button-create",className:"large-button"}),(0,m.jsx)("div",{id:"button-join",className:"large-button"}),(0,m.jsx)("div",{id:"button-matchmaking",className:"large-button"})]}),(0,m.jsxs)("div",{id:"create-menu-button-grid",children:[(0,m.jsx)("div",{id:"button-anyone"}),(0,m.jsx)("div",{id:"button-invitation"}),(0,m.jsx)("div",{id:"button-local"})]}),(0,m.jsx)("div",{id:"button-ai"}),(0,m.jsx)("div",{id:"button-validate"}),(0,m.jsx)("div",{id:"button-return"}),(0,m.jsx)("div",{id:"button-sound"}),(0,m.jsx)("div",{id:"button-map-original"}),(0,m.jsx)("div",{id:"button-map-city"}),(0,m.jsx)("div",{id:"button-map-casino"}),(0,m.jsx)("div",{id:"button-map-secret"}),(0,m.jsx)("div",{id:"button-spectate"}),(0,m.jsxs)("div",{id:"buttons-plus-minus",children:[(0,m.jsx)("div",{id:"button-plus"}),(0,m.jsx)("div",{id:"button-minus"})]}),(0,m.jsx)("div",{id:"input-join"}),(0,m.jsx)("div",{id:"input-score_limit"}),(0,m.jsx)("div",{id:"button-opp-left-ok"})]})},p=(0,r.memo)(c)}}]);
//# sourceMappingURL=367.6b55f9e1.chunk.js.map