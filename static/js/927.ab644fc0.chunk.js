"use strict";(self.webpackChunkportfolio_os=self.webpackChunkportfolio_os||[]).push([[927],{3927:function(e,t,i){i.r(t),i.d(t,{default:function(){return re}});var s=i(9439),n=i(2791),a=i(4825),l=i(7762),r=i(184),o=function(e,t){var i,s=document.getElementById(e);if(void 0!==(null===s||void 0===s?void 0:s.querySelectorAll(".menu-tiles .tile-clicked"))){var n,a=(0,l.Z)(null===s||void 0===s?void 0:s.querySelectorAll(".menu-tiles .tile-clicked"));try{for(a.s();!(n=a.n()).done;){n.value.remove()}}catch(c){a.e(c)}finally{a.f()}}var r=document.createElement("div");null===r||void 0===r||r.classList.add("tile-clicked");var o=null===(i=document.getElementById(t))||void 0===i?void 0:i.parentElement;o&&null===o.querySelector(".tile-clicked")&&o.prepend(r)},c=function(e){var t=e.content,i="";return 0===t?i="item-empty":1.1===t?i="spawn-north":1.2===t?i="spawn-south":1.3===t?i="spawn-west":1.4===t?i="spawn-east":2===t?i="cobblestone-1":3===t?i="cobblestone-2":4===t?i="cobblestone-3":5===t?i="stone":6===t?i="blue-stone":7===t?i="blue-stone-cell-1":8===t?i="blue-stone-cell-2":9===t?i="wood":10===t?i="brick":11===t?i="blue-metal":12===t?i="blue-metal-door":14===t?i="stone-world-map":-1===t?i="guard":-2===t?i="officer":-3===t?i="table-1":-4===t?i="table-2":-5===t?i="skeleton":-6===t?i="hanging-skeleton":-7===t?i="skeleton-remains":-8===t?i="pillar":-9===t?i="plant-1":-10===t?i="plant-2":-11===t?i="well-1":-12===t?i="well-2":-13===t?i="knight-armor":-14===t?i="blood-puddle":-15===t?i="cage-1":-16===t?i="cage-2":-17===t?i="key-1":-18===t?i="key-2":-19===t?i="bed":-20===t?i="barrel":-21===t&&(i="weapons-rack"),(0,r.jsxs)("div",{className:"grid-tile ".concat(i),children:[("stone-world-map"===i||"blue-metal-door"===i)&&(0,r.jsx)("div",{className:"menu-item-rect"}),i.includes("1")&&t>=2&&(0,r.jsx)("h3",{className:"variant-text",children:"1"}),i.includes("2")&&t>=2&&(0,r.jsx)("h3",{className:"variant-text",children:"2"}),i.includes("3")&&t>=2&&(0,r.jsx)("h3",{className:"variant-text",children:"3"})]})},h=function(e){var t=e.selectTile,i=function(e,i,s){t(s),o(e,i)};return(0,r.jsxs)("div",{id:"wall-tiles",className:"menu-tiles",children:[(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-0",0)},children:[(0,r.jsx)("div",{className:"menu-item item-empty",id:"wall-tile-0"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Empty"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-1",2)},children:[(0,r.jsx)("div",{className:"menu-item cobblestone-1",id:"wall-tile-1",children:(0,r.jsx)("h3",{className:"variant-text",children:"1"})}),(0,r.jsx)("h3",{className:"menu-item-text",children:"CBStone1"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-2",3)},children:[(0,r.jsx)("div",{className:"menu-item cobblestone-2",id:"wall-tile-2",children:(0,r.jsx)("h3",{className:"variant-text",children:"2"})}),(0,r.jsx)("h3",{className:"menu-item-text",children:"CBStone2"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-3",4)},children:[(0,r.jsx)("div",{className:"menu-item cobblestone-3",id:"wall-tile-3",children:(0,r.jsx)("h3",{className:"variant-text",children:"3"})}),(0,r.jsx)("h3",{className:"menu-item-text",children:"CBStone3"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-4",5)},children:[(0,r.jsx)("div",{className:"menu-item stone",id:"wall-tile-4"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Stone"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-5",6)},children:[(0,r.jsx)("div",{className:"menu-item blue-stone",id:"wall-tile-5"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"BStone"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-6",7)},children:[(0,r.jsxs)("div",{className:"menu-item blue-stone-cell-1",id:"wall-tile-6",children:[(0,r.jsx)("div",{className:"menu-item-rect"}),(0,r.jsx)("h3",{className:"variant-text",children:"1"})]}),(0,r.jsx)("h3",{className:"menu-item-text",children:"BStone w/ Cell1"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-7",8)},children:[(0,r.jsxs)("div",{className:"menu-item blue-stone-cell-2",id:"wall-tile-7",children:[(0,r.jsx)("div",{className:"menu-item-rect"}),(0,r.jsx)("h3",{className:"variant-text",children:"2"})]}),(0,r.jsx)("h3",{className:"menu-item-text",children:"BStone w/ Cell2"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-8",9)},children:[(0,r.jsx)("div",{className:"menu-item wood",id:"wall-tile-8"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Wood"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-9",10)},children:[(0,r.jsx)("div",{className:"menu-item brick",id:"wall-tile-9"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Brick"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-10",11)},children:[(0,r.jsx)("div",{className:"menu-item blue-metal",id:"wall-tile-10"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"BMetal"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-11",12)},children:[(0,r.jsx)("div",{className:"menu-item blue-metal-door",id:"wall-tile-11",children:(0,r.jsx)("div",{className:"menu-item-rect"})}),(0,r.jsx)("h3",{className:"menu-item-text",children:"BMetal w/ door"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("wall-tiles","wall-tile-12",14)},children:[(0,r.jsx)("div",{className:"menu-item stone-world-map",id:"wall-tile-12",children:(0,r.jsx)("div",{className:"menu-item-rect"})}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Stone w/ map"})]})]})},d=function(e){var t=e.selectTile,i=function(e,i,s){t(s),o(e,i)};return(0,r.jsxs)("div",{id:"player-tiles",className:"menu-tiles",children:[(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("player-tiles","player-tile-0",0)},children:[(0,r.jsx)("div",{className:"menu-item item-empty",id:"player-tile-0"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Empty"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("player-tiles","player-tile-1",1.1)},children:[(0,r.jsx)("div",{className:"menu-item spawn-north",id:"player-tile-1"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Spawn"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("player-tiles","player-tile-2",1.2)},children:[(0,r.jsx)("div",{className:"menu-item spawn-south",id:"player-tile-2"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Spawn"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("player-tiles","player-tile-3",1.3)},children:[(0,r.jsx)("div",{className:"menu-item spawn-west",id:"player-tile-3"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Spawn"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("player-tiles","player-tile-4",1.4)},children:[(0,r.jsx)("div",{className:"menu-item spawn-east",id:"player-tile-4"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Spawn"})]})]})},m=function(e){var t=e.selectTile,i=function(e,i,s){t(s),o(e,i)};return(0,r.jsxs)("div",{id:"sprite-tiles",className:"menu-tiles",children:[(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-0",0)},children:[(0,r.jsx)("div",{className:"menu-item item-empty",id:"sprite-tile-0"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Empty"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-1",-3)},children:[(0,r.jsx)("div",{className:"menu-item table-1",id:"sprite-tile-1"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Table1"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-2",-4)},children:[(0,r.jsx)("div",{className:"menu-item table-2",id:"sprite-tile-2"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Table2"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-3",-5)},children:[(0,r.jsx)("div",{className:"menu-item skeleton",id:"sprite-tile-3"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Skeleton"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-4",-6)},children:[(0,r.jsx)("div",{className:"menu-item hanging-skeleton",id:"sprite-tile-4"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Hanging Skeleton"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-5",-7)},children:[(0,r.jsx)("div",{className:"menu-item skeleton-remains",id:"sprite-tile-5"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Skeleton Remains"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-6",-8)},children:[(0,r.jsx)("div",{className:"menu-item pillar",id:"sprite-tile-6"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Pillar"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-7",-9)},children:[(0,r.jsx)("div",{className:"menu-item plant-1",id:"sprite-tile-7"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Plant1"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-8",-10)},children:[(0,r.jsx)("div",{className:"menu-item plant-2",id:"sprite-tile-8"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Plant2"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-9",-11)},children:[(0,r.jsx)("div",{className:"menu-item well-1",id:"sprite-tile-9"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Well1"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-10",-12)},children:[(0,r.jsx)("div",{className:"menu-item well-2",id:"sprite-tile-10"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Well2"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-11",-13)},children:[(0,r.jsx)("div",{className:"menu-item knight-armor",id:"sprite-tile-11"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Knight Armour"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-12",-14)},children:[(0,r.jsx)("div",{className:"menu-item blood-puddle",id:"sprite-tile-12"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Blood Puddle"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-13",-15)},children:[(0,r.jsx)("div",{className:"menu-item cage-1",id:"sprite-tile-13"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Cage1"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-14",-16)},children:[(0,r.jsx)("div",{className:"menu-item cage-2",id:"sprite-tile-14"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Cage2"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-16",-17)},children:[(0,r.jsx)("div",{className:"menu-item key-1",id:"sprite-tile-16"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Key1"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-17",-18)},children:[(0,r.jsx)("div",{className:"menu-item key-2",id:"sprite-tile-17"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Key2"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-18",-19)},children:[(0,r.jsx)("div",{className:"menu-item bed",id:"sprite-tile-18"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Bed"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-19",-20)},children:[(0,r.jsx)("div",{className:"menu-item barrel",id:"sprite-tile-19"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Barrel"})]}),(0,r.jsxs)("button",{className:"menu-tile",onClick:function(){return i("sprite-tiles","sprite-tile-20",-21)},children:[(0,r.jsx)("div",{className:"menu-item weapons-rack",id:"sprite-tile-20"}),(0,r.jsx)("h3",{className:"menu-item-text",children:"Weapons Rack"})]})]})},u=function(){var e=(0,n.useState)([]),t=(0,s.Z)(e,2),i=t[0],l=t[1],o=(0,n.useState)(2),u=(0,s.Z)(o,2),x=u[0],p=u[1],f=(0,n.useState)("walls"),y=(0,s.Z)(f,2),v=y[0],w=y[1],b=(0,n.useState)(!1),j=(0,s.Z)(b,2),k=j[0],g=j[1],N=(0,n.useState)(!1),C=(0,s.Z)(N,2),M=(C[0],C[1]),S=function(){l([[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1.2,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,3,0,5,5,5,0,9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,9,-19,0,0,0,0,0,0,-3,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,7,6,7,6,8,6,5,0,0,0,0,0,5,9,9,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,-8,0,0,0,0,0,0,0,0,0,0,0,0,-9,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,6,6,8,6,7,6,5,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,-10,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,6,0,0,0,0,0,5,0,0,0,0,0,5,-21,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,11,11,11,6,0,6,11,11,11,11,0,5,5,5,0,5,14,5,10,10,10,0,10,10,10,0,0,-4,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,-5,0,0,0,0,0,0,-6,-15,11,0,0,0,10,0,0,0,0,0,0,0,0,0,0,10,9,9,9,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,11,10,10,10,10,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,0,-14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-18,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,-5,0,0,0,11,10,10,10,10,0,0,0,0,0,0,0,0,-12,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,-6,-7,0,-14,0,0,0,-5,-16,11,0,0,0,10,-13,0,-13,0,-13,0,-13,0,-13,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,11,11,11,11,12,11,11,11,11,11,0,0,0,10,10,10,10,10,10,10,10,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]])};(0,n.useEffect)((function(){var e=localStorage.getItem("cub3d-map");return e?l(JSON.parse(e)):S(),function(){}}),[]);var V=function(e){0===e.button&&g(!1)},D=function(e){var t,s=null===(t=document.getElementById("map-editor-grid"))||void 0===t?void 0:t.getBoundingClientRect();if(s&&0===e.button){var n=Math.floor((e.clientX-s.left)/16),a=Math.floor((e.clientY-s.top)/16);0!==n&&0!==a&&n!==i.length-1&&a!==i.length-1&&i.length>0&&n>=0&&n<i[0].length&&a>=0&&a<i.length&&l((function(e){var t=e;if(x>1&&x<2)for(var i=0;i<t.length;i++)for(var s=0;s<t[i].length;s++)t[i][s]>1&&t[i][s]<2&&(t[i][s]=0);else if(t[a][n]>1&&t[a][n]<2)return t;return t[a][n]=x,t}))}},L=function(e){p(e)},I=0,B=0;return(0,r.jsxs)("div",{id:"map-editor",children:[(0,r.jsxs)("div",{id:"map-editor-flex",children:[(0,r.jsx)(a.LW,{children:(0,r.jsx)("div",{id:"map-editor-grid",onMouseDown:function(e){0===e.button&&(D(e),g(!0))},onMouseUp:V,onMouseLeave:V,onMouseMove:function(e){k&&(D(e),M((function(e){return!e})))},children:i.map((function(e){return I++,(0,r.jsx)("div",{className:"map-editor-row",children:e.map((function(e){return B++,(0,r.jsx)(c,{content:e},B)}))},I)}))})}),(0,r.jsx)("div",{id:"cub3d-button-separator"}),(0,r.jsxs)("div",{id:"map-editor-menu",children:[(0,r.jsxs)(a.LW,{children:["player"===v&&(0,r.jsx)(d,{selectTile:L}),"walls"===v&&(0,r.jsx)(h,{selectTile:L}),"objects"===v&&(0,r.jsx)(m,{selectTile:L})]}),(0,r.jsx)("div",{id:"map-editor-button-separator"}),(0,r.jsx)("button",{onClick:function(){return w("player")},className:"map-editor-menu-button button-up "+("player"===v?"selected-u":""),children:"Player"}),(0,r.jsx)("div",{id:"map-editor-button-separator"}),(0,r.jsx)("button",{onClick:function(){return w("walls")},className:"map-editor-menu-button button-down "+("walls"===v?"selected-d":""),children:"Walls"}),(0,r.jsx)("div",{id:"map-editor-button-separator"}),(0,r.jsx)("button",{onClick:function(){return w("objects")},className:"map-editor-menu-button button-up "+("objects"===v?"selected-u":""),children:"Objects"})]})]}),(0,r.jsx)("button",{className:"map-editor-button button-save",onClick:function(){localStorage.setItem("cub3d-map",JSON.stringify(i))},children:(0,r.jsx)("h3",{children:"Save"})}),(0,r.jsx)("button",{className:"map-editor-button button-reset",onClick:S,children:(0,r.jsx)("h3",{children:"Reset"})})]})},x=i(2024),p=i.n(x),f=64,y=350,v=200,w=200,b=10,j=10;function k(e){return new x.Vector(e.y,-e.x)}function g(e){return new x.Vector(-e.y,e.x)}function N(e){return e*Math.PI/180}var C,M,S,V,D,L,I,B,E,P,_,z,Z,q,R,T,O,W,A=i(5671),J=i(3144),F=i(1248),K=function(){function e(){(0,A.Z)(this,e),this.grid=void 0,this.width=void 0,this.height=void 0,this.width=20,this.height=20,this.grid=[]}return(0,J.Z)(e,[{key:"draw",value:function(e){for(var t=0;t<this.grid.length;t++)for(var i=0;i<this.grid[0].length;i++)e.push(),e.noStroke(),0===this.grid[t][i]?e.fill("white"):1===this.grid[t][i]?e.fill(F.Ej):3===this.grid[t][i]?e.fill(F.hM):4===this.grid[t][i]&&e.fill(F.$R),e.rect(i*b,t*j,b,j),e.pop()}},{key:"defaultMap",value:function(){this.grid=[[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1.2,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,3,0,5,5,5,0,9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,5,0,9,-19,0,0,0,0,0,0,-3,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,7,6,7,6,8,6,5,0,0,0,0,0,5,9,9,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,-8,0,0,0,0,0,0,0,0,0,0,0,0,-9,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,6,6,8,6,7,6,5,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,-10,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,6,0,0,0,0,0,5,0,0,0,0,0,5,-21,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,11,11,11,6,0,6,11,11,11,11,0,5,5,5,0,5,14,5,10,10,10,0,10,10,10,0,0,-4,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,-5,0,0,0,0,0,0,-6,-15,11,0,0,0,10,0,0,0,0,0,0,0,0,0,0,10,9,9,9,9,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,11,10,10,10,10,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,0,-14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-18,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,-5,0,0,0,11,10,10,10,10,0,0,0,0,0,0,0,0,-12,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,-6,-7,0,-14,0,0,0,-5,-16,11,0,0,0,10,-13,0,-13,0,-13,0,-13,0,-13,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,11,11,11,11,11,12,11,11,11,11,11,0,0,0,10,10,10,10,10,10,10,10,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]]}},{key:"getPlayerPos",value:function(){for(var e=0;e<this.grid.length;e++)for(var t=0;t<this.grid[0].length;t++){if(1.1===this.grid[e][t])return{pos:new x.Vector(t,e),dir:new x.Vector(0,-1)};if(1.2===this.grid[e][t])return{pos:new x.Vector(t,e),dir:new x.Vector(0,1)};if(1.3===this.grid[e][t])return{pos:new x.Vector(t,e),dir:new x.Vector(-1,0)};if(1.4===this.grid[e][t])return{pos:new x.Vector(t,e),dir:new x.Vector(1,0)}}return{pos:new x.Vector(0,0),dir:new x.Vector(0,-1)}}}]),e}(),U=function(){function e(t,i,s){(0,A.Z)(this,e),this.pos=void 0,this.dir=void 0,this.unitStepSize=void 0,this.mapCheck=void 0,this.rayLength1D=void 0,this.step=void 0,this.dist=void 0,this.side=void 0,this.intersection=void 0,this.pos=t,this.dir=i,this.unitStepSize=new x.Vector(Math.sqrt(1+this.dir.y/this.dir.x*(this.dir.y/this.dir.x)),Math.sqrt(1+this.dir.x/this.dir.y*(this.dir.x/this.dir.y))),this.mapCheck=new x.Vector(Math.floor(this.pos.x),Math.floor(this.pos.y)),this.rayLength1D=new x.Vector(0,0),this.step=new x.Vector(0,0),this.intersection=new x.Vector(0,0),this.dist=0,this.side=!1,this.rayCast(s)}return(0,J.Z)(e,[{key:"reset",value:function(e,t){this.pos=e,this.dir=t,this.unitStepSize=new x.Vector(Math.sqrt(1+this.dir.y/this.dir.x*(this.dir.y/this.dir.x)),Math.sqrt(1+this.dir.x/this.dir.y*(this.dir.x/this.dir.y))),this.mapCheck=new x.Vector(Math.floor(this.pos.x),Math.floor(this.pos.y)),this.rayLength1D=new x.Vector(0,0),this.step=new x.Vector(0,0),this.intersection=new x.Vector(0,0),this.dist=0,this.side=!1}},{key:"rayCast",value:function(e){this.unitStepSize=new x.Vector(Math.sqrt(1+this.dir.y/this.dir.x*(this.dir.y/this.dir.x)),Math.sqrt(1+this.dir.x/this.dir.y*(this.dir.x/this.dir.y))),this.mapCheck=new x.Vector(Math.floor(this.pos.x),Math.floor(this.pos.y)),this.rayLength1D=new x.Vector(0,0),this.step=new x.Vector(0,0),this.intersection=new x.Vector(0,0),this.dist=0,this.dir.x<0?(this.step.x=-1,this.rayLength1D.x=(this.pos.x-this.mapCheck.x)*this.unitStepSize.x):(this.step.x=1,this.rayLength1D.x=(this.mapCheck.x+1-this.pos.x)*this.unitStepSize.x),this.dir.y<0?(this.step.y=-1,this.rayLength1D.y=(this.pos.y-this.mapCheck.y)*this.unitStepSize.y):(this.step.y=1,this.rayLength1D.y=(this.mapCheck.y+1-this.pos.y)*this.unitStepSize.y);for(var t=!1;!t&&this.dist<100;){if(this.rayLength1D.x<this.rayLength1D.y?(this.mapCheck.x+=this.step.x,this.dist=this.rayLength1D.x,this.rayLength1D.x+=this.unitStepSize.x,this.side=!1):(this.mapCheck.y+=this.step.y,this.dist=this.rayLength1D.y,this.rayLength1D.y+=this.unitStepSize.y,this.side=!0),this.mapCheck.x>=0&&this.mapCheck.x<e[0].length&&this.mapCheck.y>=0&&this.mapCheck.y<e.length)e[this.mapCheck.y][this.mapCheck.x]>=2&&(t=!0)}t?this.intersection=p().Vector.add(this.pos,p().Vector.mult(this.dir,this.dist)):console.log("dist exceeded")}},{key:"draw",value:function(e){var t,i,s,n=(t=this.intersection,i=0,s=0,new x.Vector(t.x*b+i/2,t.y*j+s/2));e.push(),e.stroke(F.hM),e.strokeWeight(1),e.line(this.pos.x*b,this.pos.y*j,n.x,n.y),e.pop()}}]),e}(),H=function(){function e(t,i){(0,A.Z)(this,e),this.pos=void 0,this.dir=void 0,this.plane=void 0,this.walk_speed=void 0,this.rotate_speed=void 0,this.mouse_sensitivity=void 0,this.rays=void 0,this.pos=new x.Vector(t.pos.x+.5,t.pos.y+.5),this.dir=t.dir,this.plane=new x.Vector(-.66*this.dir.y,.66*this.dir.x),this.rays=[],this.walk_speed=0,this.rotate_speed=0,this.mouse_sensitivity=0;for(var s=0;s<w;s++)this.rays.push(new U(this.pos,p().Vector.rotate(this.dir,N(.33*s-33)),i))}return(0,J.Z)(e,[{key:"resetRays",value:function(e){for(var t=0;t<this.rays.length;t++)this.rays[t].reset(this.pos,p().Vector.rotate(this.dir,N(.33*t-33)));this.castRays(e)}},{key:"castRays",value:function(e){for(var t=0;t<this.rays.length;t++)this.rays[t].rayCast(e)}},{key:"draw",value:function(e){e.push(),e.fill(F.ZA),e.ellipse(this.pos.x*b,this.pos.y*j,10),e.fill(F.hM),e.ellipse(this.pos.x*b,this.pos.y*j,2),e.pop();var t,i=(0,l.Z)(this.rays);try{for(i.s();!(t=i.n()).done;){t.value.draw(e)}}catch(s){i.e(s)}finally{i.f()}}},{key:"addPos",value:function(e,t){e.normalize(),e.mult(this.walk_speed);var i=this.pos.x+e.x,s=this.pos.y+e.y;i>=0&&i<t[0].length&&(0===t[Math.floor(this.pos.y)][Math.floor(i)]||t[Math.floor(this.pos.y)][Math.floor(i)]>1&&t[Math.floor(this.pos.y)][Math.floor(i)]<2)&&(this.pos.x=i),s>=0&&s<t.length&&(0===t[Math.floor(s)][Math.floor(this.pos.x)]||t[Math.floor(s)][Math.floor(this.pos.x)]>1&&t[Math.floor(s)][Math.floor(this.pos.x)]<2)&&(this.pos.y=s),this.castRays(t)}},{key:"rotateDir",value:function(e,t){t>10?t=10:t<-10&&(t=-10),this.dir.rotate(N(t)),this.plane.rotate(N(t)),this.resetRays(e)}},{key:"move",value:function(e,t){e.keyIsDown(90)&&this.addPos(new x.Vector(this.dir.x,this.dir.y),t),e.keyIsDown(83)&&this.addPos(p().Vector.mult(this.dir,-1),t),e.keyIsDown(81)&&this.addPos(k(this.dir),t),e.keyIsDown(68)&&this.addPos(g(this.dir),t),e.keyIsDown(65)&&this.rotateDir(t,-this.rotate_speed),e.keyIsDown(69)&&this.rotateDir(t,this.rotate_speed)}}]),e}(),X=JSON.parse('{"P":[{"name":"cobblestone-1","frame":{"x":0,"y":0,"w":64,"h":64}},{"name":"cobblestone-1-shade","frame":{"x":64,"y":0,"w":64,"h":64}},{"name":"cobblestone-2","frame":{"x":128,"y":0,"w":64,"h":64}},{"name":"cobblestone-2-shade","frame":{"x":192,"y":0,"w":64,"h":64}},{"name":"cobblestone-3","frame":{"x":256,"y":0,"w":64,"h":64}},{"name":"cobblestone-3-shade","frame":{"x":0,"y":64,"w":64,"h":64}},{"name":"stone","frame":{"x":64,"y":64,"w":64,"h":64}},{"name":"stone-shade","frame":{"x":128,"y":64,"w":64,"h":64}},{"name":"stone-map","frame":{"x":192,"y":64,"w":64,"h":64}},{"name":"blue-stone","frame":{"x":256,"y":64,"w":64,"h":64}},{"name":"blue-stone-shade","frame":{"x":0,"y":128,"w":64,"h":64}},{"name":"blue-stone-cell-1","frame":{"x":64,"y":128,"w":64,"h":64}},{"name":"blue-stone-cell-1-shade","frame":{"x":128,"y":128,"w":64,"h":64}},{"name":"blue-stone-cell-2","frame":{"x":192,"y":128,"w":64,"h":64}},{"name":"blue-stone-cell-2-shade","frame":{"x":256,"y":128,"w":64,"h":64}},{"name":"blue-metal","frame":{"x":0,"y":192,"w":64,"h":64}},{"name":"blue-metal-shade","frame":{"x":64,"y":192,"w":64,"h":64}},{"name":"blue-metal-door","frame":{"x":128,"y":192,"w":64,"h":64}},{"name":"blue-metal-door-shade","frame":{"x":192,"y":192,"w":64,"h":64}},{"name":"blue-metal-door-open","frame":{"x":256,"y":192,"w":64,"h":64}},{"name":"blue-metal-door-open-shade","frame":{"x":0,"y":256,"w":64,"h":64}},{"name":"wood","frame":{"x":64,"y":256,"w":64,"h":64}},{"name":"wood","frame":{"x":128,"y":256,"w":64,"h":64}},{"name":"brick","frame":{"x":192,"y":256,"w":64,"h":64}},{"name":"brick","frame":{"x":256,"y":256,"w":64,"h":64}}]}'),Y=JSON.parse('{"M":[{"name":"table-1","frame":{"x":0,"y":0,"w":64,"h":64}},{"name":"table-2","frame":{"x":64,"y":0,"w":64,"h":64}},{"name":"skeleton","frame":{"x":128,"y":0,"w":64,"h":64}},{"name":"hanging-skeleton","frame":{"x":192,"y":0,"w":64,"h":64}},{"name":"skeleton-remains","frame":{"x":256,"y":0,"w":64,"h":64}},{"name":"pillar","frame":{"x":0,"y":64,"w":64,"h":64}},{"name":"plant-1","frame":{"x":64,"y":64,"w":64,"h":64}},{"name":"plant-2","frame":{"x":128,"y":64,"w":64,"h":64}},{"name":"well-1","frame":{"x":192,"y":64,"w":64,"h":64}},{"name":"well-2","frame":{"x":256,"y":64,"w":64,"h":64}},{"name":"knight-armor","frame":{"x":0,"y":128,"w":64,"h":64}},{"name":"blood-puddle","frame":{"x":64,"y":128,"w":64,"h":64}},{"name":"cage-1","frame":{"x":128,"y":128,"w":64,"h":64}},{"name":"cage-2","frame":{"x":192,"y":128,"w":64,"h":64}},{"name":"key-1","frame":{"x":256,"y":128,"w":64,"h":64}},{"name":"key-2","frame":{"x":0,"y":192,"w":64,"h":64}},{"name":"bed","frame":{"x":64,"y":192,"w":64,"h":64}},{"name":"barrel","frame":{"x":128,"y":192,"w":64,"h":64}},{"name":"weapons-rack","frame":{"x":192,"y":192,"w":64,"h":64}},{"name":"oven","frame":{"x":256,"y":192,"w":64,"h":64}}]}'),$=function(e,t){if(M){var i=4*(e.y*M.canvas.width+e.x);E.data[i]=t.r,E.data[i+1]=t.g,E.data[i+2]=t.b,E.data[i+3]=t.a}},G=function(e,t){var i=4*(t.y*f+t.x);return{r:e[i],g:e[i+1],b:e[i+2],a:e[i+3]}},Q=function(){for(var e=0;e<T.length;e++)for(var t=e+1;t<T.length;t++)if(W[e]<W[t]){var i=W[e],s=O[e];W[e]=W[t],O[e]=O[t],W[t]=i,O[t]=s}},ee=function(){!function(){P=[];var e=X.P,t=document.createElement("canvas");t.width=384,t.height=1216;var i=t.getContext("2d");if(i){var s=new Image;s.src="".concat("","/assets/textures/walls.png"),s.crossOrigin="anonymous",s.onload=function(){if(i){i.drawImage(s,0,0);for(var n=0;n<e.length;n++){var a=e[n].frame,l=i.getImageData(a.x,a.y,a.w,a.h).data;P.push(l)}t.remove()}}}}(),function(){_=[];var e=Y.M,t=document.createElement("canvas");t.width=324,t.height=665;var i=t.getContext("2d");if(i){var s=new Image;s.src="".concat("","/assets/sprites/objects.png"),s.crossOrigin="anonymous",s.onload=function(){if(i){i.drawImage(s,0,0);for(var n=0;n<e.length;n++){var a=e[n].frame,l=i.getImageData(a.x,a.y,a.w,a.h).data;_.push(l)}t.remove()}}}}()},te=function(e){-1!==q.indexOf(e.key)||"w"!==e.key&&"z"!==e.key&&"s"!==e.key&&"q"!==e.key&&"a"!==e.key&&"d"!==e.key&&"e"!==e.key||(q+=e.key)},ie=function(e){-1!==q.indexOf(e.key)&&(q=q.replaceAll(e.key,""))},se=function(){T=[];for(var e=0;e<I.grid.length;e++)for(var t=0;t<I.grid[e].length;t++){var i=I.grid[e][t];i<0&&T.push({x:t+.5,y:e+.5,texture:-1*(i+3)})}R=[];for(var s=0;s<w;s++)R.push(0);O=[];for(var n=0;n<T.length;n++)O.push(0);W=[];for(var a=0;a<T.length;a++)W.push(0)},ne=function(){if(M){if(q.length>0){var e=new x.Vector(0,0);q.includes("z")&&e.add(new x.Vector(B.dir.x,B.dir.y)),q.includes("s")&&e.add(p().Vector.mult(B.dir,-1)),q.includes("q")&&e.add(k(B.dir)),q.includes("d")&&e.add(g(B.dir)),q.includes("a")&&B.rotateDir(I.grid,-B.rotate_speed),q.includes("e")&&B.rotateDir(I.grid,B.rotate_speed),B.addPos(e,I.grid)}M.clearRect(0,0,M.canvas.width,M.canvas.height),function(){for(var e=0;e<v;e++)for(var t={x:B.dir.x-B.plane.x,y:B.dir.y-B.plane.y},i={x:B.dir.x+B.plane.x,y:B.dir.y+B.plane.y},s=100/(e-100),n={x:s*(i.x-t.x)/y,y:s*(i.y-t.y)/y},a={x:B.pos.x+s*t.x,y:B.pos.y+s*t.y},l=0;l<y;l++){var r={x:Math.floor(a.x),y:Math.floor(a.y)},o={x:63&Math.floor(f*(a.x-r.x)),y:63&Math.floor(64*(a.y-r.y))};a.x+=n.x,a.y+=n.y;var c=void 0;c=G(z,{x:o.x,y:o.y}),$({x:l,y:e},c),c=G(Z,{x:o.x,y:o.y}),$({x:l,y:v-e-1},c)}}(),function(){for(var e,t=0;t<B.rays.length;t+=1){var i=B.rays[t],s=void 0,n=2*(I.grid[i.mapCheck.y][i.mapCheck.x]-2);!0===i.side?(s=i.rayLength1D.y-i.unitStepSize.y,n+1<P.length&&n++):s=i.rayLength1D.x-i.unitStepSize.x;var a=Math.floor(v/s),l=Math.floor(-a/2+100)+1,r=Math.floor(a/2+100);l<0&&(l=0),r>=v&&(r=199),e=P[n];var o=void 0;o=!1===i.side?i.pos.y+s*i.dir.y:i.pos.x+s*i.dir.x,o-=Math.floor(o);var c=Math.floor(o*f);(!1===i.side&&i.dir.x>0||!0===i.side&&i.dir.y<0)&&(c=f-c-1);for(var h=64/a,d=(l-100+a/2)*h,m=l;m<r;m++){var u=Math.floor(d);d+=h;for(var x=G(e,{x:c,y:u}),p=0;p<1.75;p++){var y=Math.floor(1.75*t+p);$({x:y,y:m},x)}}R[t]=s}}(),function(){for(var e=0;e<T.length;e++)O[e]=e,W[e]=(B.pos.x-T[e].x)*(B.pos.x-T[e].x)+(B.pos.y-T[e].y)*(B.pos.y-T[e].y);Q();for(var t=0;t<T.length;t++){var i=T[O[t]].x-B.pos.x,s=T[O[t]].y-B.pos.y,n=1/(B.plane.x*B.dir.y-B.dir.x*B.plane.y),a=n*(B.dir.y*i-B.dir.x*s),l=n*(-B.plane.y*i+B.plane.x*s),r=Math.floor(175*(1+a/l)),o=Math.abs(Math.floor(v/l)),c=Math.floor(-o/2+100);c<0&&(c=0);var h=Math.floor(o/2+100);h>=v&&(h=199);var d=Math.abs(Math.floor(v/l)),m=Math.floor(-d/2+r);m<0&&(m=0);var u=Math.floor(d/2+r);u>=y&&(u=y);for(var x=m;x<u;x++){var p=Math.floor(64*(x-(-d/2+r))/d);if(p<0&&(p=0),p>=64&&(p=63),l>0&&l<R[Math.floor(x/1.75)])for(var f=c;f<h;f++){var w=Math.floor(256*f-25600+128*o),b=Math.floor(64*w/o/256);b<0&&(b=0),b>=64&&(b=63);var j=G(_[T[O[t]].texture],{x:p,y:b});149===j.r&&20===j.g&&129===j.b||151===j.r&&12===j.g&&133===j.b||$({x:x,y:f},j)}}}}(),M.putImageData(E,0,0)}},ae=function(){var e=(0,n.useState)(0),t=(0,s.Z)(e,2),i=t[0],a=t[1],l=(0,n.useRef)(null);return(0,n.useEffect)((function(){if((C=l.current)&&(C.width=y,C.height=v,M=C.getContext("2d"))){ee();var e=setInterval((function(){if(P.length>0&&_.length>0){clearInterval(e),function(){if(M&&C){0,z=P[6],Z=P[15],I=new K;var e=localStorage.getItem("cub3d-map");e?I.grid=JSON.parse(e):I.defaultMap(),se(),E=M.getImageData(0,0,M.canvas.width,M.canvas.height),(B=new H(I.getPlayerPos(),I.grid)).walk_speed=4,B.rotate_speed=150,B.mouse_sensitivity=3.5,q=""}}(),document.addEventListener("keydown",te),document.addEventListener("keyup",ie);!function e(){D=V,ne(),V=Date.now(),S=(V-D)/1e3,a(Math.floor(1/S)),B.walk_speed=4*S,B.rotate_speed=150*S,B.mouse_sensitivity=3.5*S,L=window.requestAnimationFrame(e)}()}}),50)}return function(){document.removeEventListener("keydown",te),document.removeEventListener("keyup",ie),window.cancelAnimationFrame(L)}}),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{position:"absolute",zIndex:10,color:"var(--yellow)",top:"15px"},children:i.toString()}),(0,r.jsx)("canvas",{id:"cub3d-canvas",ref:l})]})},le=function(e){e.forcedUpdate;var t=(0,n.useState)(0),i=(0,s.Z)(t,2),a=i[0],l=i[1],o=function(){l(0)},c=function(){var e,t,i=document.getElementById("cub3d-button-1");null===(e=i)||void 0===e||e.animate([{backgroundPosition:"0 0",color:"var(--black)"}],{duration:100,fill:"forwards"}),null===(t=i=document.getElementById("cub3d-button-2"))||void 0===t||t.animate([{backgroundPosition:"100% 0%",color:"var(--black)"}],{duration:100,fill:"forwards"}),i=document.getElementById("cub3d-button-separator"),setTimeout((function(){var e;null===(e=i)||void 0===e||e.animate([{height:0}],{duration:150,fill:"forwards"})}),100)};return(0,r.jsxs)("div",{id:"cub3d",children:[0===a&&(0,r.jsxs)("div",{id:"cub3d-button-flex",children:[(0,r.jsxs)("button",{className:"cub3d-button",id:"cub3d-button-1",onClick:function(){c(),setTimeout((function(){return l(-1)}),250)},children:["Edit",(0,r.jsx)("br",{}),"map"]}),(0,r.jsx)("div",{id:"cub3d-button-separator"}),(0,r.jsx)("button",{className:"cub3d-button",id:"cub3d-button-2",onClick:function(){c(),setTimeout((function(){l(1)}),200)},children:"Play"})]}),-1===a&&(0,r.jsxs)("div",{className:"Canvas",id:"cub3d-map-editor",children:[(0,r.jsx)("button",{className:"cub3d-button-return",onClick:o,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon-arrow-back",width:"50",height:"50",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#F4615A",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"})})}),(0,r.jsx)(u,{})]}),1===a&&(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{className:"cub3d-button-return",onClick:o,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon-arrow-back",width:"50",height:"50",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#F4615A",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1"})})}),(0,r.jsx)(ae,{})]})]})},re=(0,n.memo)(le)}}]);
//# sourceMappingURL=927.ab644fc0.chunk.js.map