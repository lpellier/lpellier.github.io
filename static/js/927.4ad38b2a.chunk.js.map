{"version":3,"file":"static/js/927.4ad38b2a.chunk.js","mappings":"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AG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACxJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrK,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7J,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC5J,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC3J,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC/J,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1K,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC5K,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,E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G,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACxJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrK,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7J,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC5J,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC3J,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC/J,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1K,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC5K,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACrJ,CAAE,EAAG,EAAG,EAAG,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","sources":["components/Desktop/Apps/Cub3D/tiles.tsx","components/Desktop/Apps/Cub3D/Tiles/Walls.tsx","components/Desktop/Apps/Cub3D/Tiles/Player.tsx","components/Desktop/Apps/Cub3D/Tiles/Objects.tsx","components/Desktop/Apps/Cub3D/MapEditor.tsx","components/Desktop/Apps/Cub3D/Sketch/constants.ts","components/Desktop/Apps/Cub3D/Sketch/helper.ts","components/Desktop/Apps/Cub3D/Sketch/Canvas.tsx","components/Desktop/Apps/Cub3D/Sketch/Map.ts","components/Desktop/Apps/Cub3D/Sketch/Ray.ts","components/Desktop/Apps/Cub3D/Sketch/Player.ts","components/Desktop/Apps/Cub3D/Cub3D.tsx"],"sourcesContent":["export const tileClicked = (parent_name: string, tilename: string): void => {\n\t// ? Remove any existing outlines\n\t\n\tconst parent = document.getElementById(parent_name);\n\tif (parent?.querySelectorAll('.menu-tiles .tile-clicked') !== undefined){\n\t\tfor (let elem of parent?.querySelectorAll('.menu-tiles .tile-clicked')) {\n\t\t\telem.remove();\n\t\t}\n\t}\n\t\n\t// ? Add outline to selected tile\n\tconst div = document.createElement(\"div\");\n\tdiv?.classList.add(\"tile-clicked\");\n\tconst tile = document.getElementById(tilename)?.parentElement;\n\tif (tile && tile.querySelector('.tile-clicked') === null) {\n\t\ttile.prepend(div);\n\t}\n}\n\nexport const GridTile = ({content}: {content: number}) => {\n\tlet typeId: string = \"\";\n\tif (content === 0) typeId = \"item-empty\";\n\telse if (content === 1.1) typeId = \"spawn-north\";\n\telse if (content === 1.2) typeId = \"spawn-south\";\n\telse if (content === 1.3) typeId = \"spawn-west\";\n\telse if (content === 1.4) typeId = \"spawn-east\";\n\telse if (content === 2) typeId = \"cobblestone-1\";\n\telse if (content === 3) typeId = \"cobblestone-2\";\n\telse if (content === 4) typeId = \"cobblestone-3\";\n\telse if (content === 5) typeId = \"stone\";\n\telse if (content === 6) typeId = \"blue-stone\";\n\telse if (content === 7) typeId = \"blue-stone-cell-1\";\n\telse if (content === 8) typeId = \"blue-stone-cell-2\";\n\telse if (content === 9) typeId = \"wood\";\n\telse if (content === 10) typeId = \"brick\";\n\telse if (content === 11) typeId = \"blue-metal\";\n\telse if (content === 12) typeId = \"blue-metal-door\";\n\telse if (content === 14) typeId = \"stone-world-map\";\n\telse if (content === -1) typeId = \"guard\";\n\telse if (content === -2) typeId = \"officer\";\n\telse if (content === -3) typeId = \"table-1\";\n\telse if (content === -4) typeId = \"table-2\";\n\telse if (content === -5) typeId = \"skeleton\";\n\telse if (content === -6) typeId = \"hanging-skeleton\";\n\telse if (content === -7) typeId = \"skeleton-remains\";\n\telse if (content === -8) typeId = \"pillar\";\n\telse if (content === -9) typeId = \"plant-1\";\n\telse if (content === -10) typeId = \"plant-2\";\n\telse if (content === -11) typeId = \"well-1\";\n\telse if (content === -12) typeId = \"well-2\";\n\telse if (content === -13) typeId = \"knight-armor\";\n\telse if (content === -14) typeId = \"blood-puddle\";\n\telse if (content === -15) typeId = \"cage-1\";\n\telse if (content === -16) typeId = \"cage-2\";\n\telse if (content === -17) typeId = \"key-1\";\n\telse if (content === -18) typeId = \"key-2\";\n\telse if (content === -19) typeId = \"bed\";\n\telse if (content === -20) typeId = \"barrel\";\n\telse if (content === -21) typeId = \"weapons-rack\";\n\n\treturn (\n\t\t<div className={`grid-tile ${typeId}`}>\n\t\t\t{(typeId === 'stone-world-map' || typeId === 'blue-metal-door') &&\n\t\t\t\t<div className=\"menu-item-rect\"/>\n\t\t\t}\n\t\t\t{typeId.includes('1') && content >= 2 && \n\t\t\t\t<h3 className=\"variant-text\">1</h3>\n\t\t\t}\n\t\t\t{typeId.includes('2') && content >= 2 && \n\t\t\t\t<h3 className=\"variant-text\">2</h3>\n\t\t\t}\n\t\t\t{typeId.includes('3') && content >= 2 && \n\t\t\t\t<h3 className=\"variant-text\">3</h3>\n\t\t\t}\n\t\t</div>\n\t)\n}\n","import { tileClicked } from './../tiles'\n\nconst Walls = ({selectTile}: {selectTile: Function}) => {\n\tconst clickTile = (parent: string, node: string, n: number) => {\n\t\tselectTile(n);\n\t\ttileClicked(parent, node);\n\t}\n\n\treturn (\n\t<div id='wall-tiles' className=\"menu-tiles\">\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-0', 0)}>\n\t\t\t<div className=\"menu-item item-empty\" id='wall-tile-0'/>\n\t\t\t<h3 className=\"menu-item-text\">Empty</h3>\n\t\t</button>\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-1', 2)}>\n\t\t\t<div className=\"menu-item cobblestone-1\" id='wall-tile-1'><h3 className=\"variant-text\">1</h3></div>\n\t\t\t<h3 className=\"menu-item-text\">CBStone1</h3>\n\t\t</button>\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-2', 3)}>\n\t\t\t<div className=\"menu-item cobblestone-2\" id='wall-tile-2'><h3 className=\"variant-text\">2</h3></div>\n\t\t\t<h3 className=\"menu-item-text\">CBStone2</h3>\n\t\t</button>\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-3', 4)}>\n\t\t\t<div className=\"menu-item cobblestone-3\" id='wall-tile-3'><h3 className=\"variant-text\">3</h3></div>\n\t\t\t<h3 className=\"menu-item-text\">CBStone3</h3>\n\t\t</button>\n\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-4', 5)}>\n\t\t\t<div className=\"menu-item stone\" id='wall-tile-4'/>\n\t\t\t<h3 className=\"menu-item-text\">Stone</h3>\n\t\t</button>\n\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-5', 6)}>\n\t\t\t<div className=\"menu-item blue-stone\" id='wall-tile-5'/>\n\t\t\t<h3 className=\"menu-item-text\">BStone</h3>\n\t\t</button>\n\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-6', 7)}>\n\t\t\t<div className=\"menu-item blue-stone-cell-1\" id='wall-tile-6'>\n\t\t\t\t<div className=\"menu-item-rect\"/>\n\t\t\t\t<h3 className=\"variant-text\">1</h3>\n\t\t\t</div>\n\t\t\t<h3 className=\"menu-item-text\">BStone w/ Cell1</h3>\n\t\t</button>\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-7', 8)}>\n\t\t\t<div className=\"menu-item blue-stone-cell-2\" id='wall-tile-7'>\n\t\t\t\t<div className=\"menu-item-rect\"/>\n\t\t\t\t<h3 className=\"variant-text\">2</h3>\n\t\t\t</div>\n\t\t\t<h3 className=\"menu-item-text\">BStone w/ Cell2</h3>\n\t\t</button>\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-8', 9)}>\n\t\t\t<div className=\"menu-item wood\" id='wall-tile-8'/>\n\t\t\t<h3 className=\"menu-item-text\">Wood</h3>\n\t\t</button>\n\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-9', 10)}>\n\t\t\t<div className=\"menu-item brick\" id='wall-tile-9'/>\n\t\t\t<h3 className=\"menu-item-text\">Brick</h3>\n\t\t</button>\n\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-10', 11)}>\n\t\t\t<div className=\"menu-item blue-metal\" id='wall-tile-10'/>\n\t\t\t<h3 className=\"menu-item-text\">BMetal</h3>\n\t\t</button>\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-11', 12)}>\n\t\t\t<div className=\"menu-item blue-metal-door\" id='wall-tile-11'>\n\t\t\t\t<div className=\"menu-item-rect\"/>\n\t\t\t</div>\n\t\t\t<h3 className=\"menu-item-text\">BMetal w/ door</h3>\n\t\t</button>\n\t\t<button className=\"menu-tile\" onClick={() => clickTile('wall-tiles', 'wall-tile-12', 14)}>\n\t\t\t<div className=\"menu-item stone-world-map\" id='wall-tile-12'>\n\t\t\t\t<div className=\"menu-item-rect\"/>\n\t\t\t</div>\n\t\t\t<h3 className=\"menu-item-text\">Stone w/ map</h3>\n\t\t</button>\n\t</div>\n\t);\n}\n\nexport default Walls;","import { tileClicked } from './../tiles'\n\nconst Player = ({selectTile}: {selectTile: Function}) => {\n\tconst clickTile = (parent: string, node: string, n: number) => {\n\t\tselectTile(n);\n\t\ttileClicked(parent, node);\n\t}\n\n\treturn (\n\t\t<div id='player-tiles' className=\"menu-tiles\">\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('player-tiles', 'player-tile-0', 0)}>\n\t\t\t\t<div className=\"menu-item item-empty\" id='player-tile-0'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Empty</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('player-tiles', 'player-tile-1', 1.1)}>\n\t\t\t\t<div className=\"menu-item spawn-north\" id=\"player-tile-1\"/>\n\t\t\t\t<h3 className=\"menu-item-text\">Spawn</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('player-tiles', 'player-tile-2', 1.2)}>\n\t\t\t\t<div className=\"menu-item spawn-south\" id=\"player-tile-2\"/>\n\t\t\t\t<h3 className=\"menu-item-text\">Spawn</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('player-tiles', 'player-tile-3', 1.3)}>\n\t\t\t\t<div className=\"menu-item spawn-west\" id=\"player-tile-3\"/>\n\t\t\t\t<h3 className=\"menu-item-text\">Spawn</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('player-tiles', 'player-tile-4', 1.4)}>\n\t\t\t\t<div className=\"menu-item spawn-east\" id=\"player-tile-4\"/>\n\t\t\t\t<h3 className=\"menu-item-text\">Spawn</h3>\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n\nexport default Player;","import { tileClicked } from '../tiles'\n\nconst Objects = ({selectTile}: {selectTile: Function}) => {\t\n\tconst clickTile = (parent: string, node: string, n: number) => {\n\t\tselectTile(n);\n\t\ttileClicked(parent, node);\n\t}\n\n\treturn (\n\t\t<div id='sprite-tiles' className=\"menu-tiles\">\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-0', 0)}>\n\t\t\t\t<div className=\"menu-item item-empty\" id='sprite-tile-0'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Empty</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-1', -3)}>\n\t\t\t\t<div className=\"menu-item table-1\" id='sprite-tile-1'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Table1</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-2', -4)}>\n\t\t\t\t<div className=\"menu-item table-2\" id='sprite-tile-2'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Table2</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-3', -5)}>\n\t\t\t\t<div className=\"menu-item skeleton\" id='sprite-tile-3'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Skeleton</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-4', -6)}>\n\t\t\t\t<div className=\"menu-item hanging-skeleton\" id='sprite-tile-4'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Hanging Skeleton</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-5', -7)}>\n\t\t\t\t<div className=\"menu-item skeleton-remains\" id='sprite-tile-5'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Skeleton Remains</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-6', -8)}>\n\t\t\t\t<div className=\"menu-item pillar\" id='sprite-tile-6'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Pillar</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-7', -9)}>\n\t\t\t\t<div className=\"menu-item plant-1\" id='sprite-tile-7'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Plant1</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-8', -10)}>\n\t\t\t\t<div className=\"menu-item plant-2\" id='sprite-tile-8'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Plant2</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-9', -11)}>\n\t\t\t\t<div className=\"menu-item well-1\" id='sprite-tile-9'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Well1</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-10', -12)}>\n\t\t\t\t<div className=\"menu-item well-2\" id='sprite-tile-10'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Well2</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-11', -13)}>\n\t\t\t\t<div className=\"menu-item knight-armor\" id='sprite-tile-11'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Knight Armour</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-12', -14)}>\n\t\t\t\t<div className=\"menu-item blood-puddle\" id='sprite-tile-12'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Blood Puddle</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-13', -15)}>\n\t\t\t\t<div className=\"menu-item cage-1\" id='sprite-tile-13'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Cage1</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-14', -16)}>\n\t\t\t\t<div className=\"menu-item cage-2\" id='sprite-tile-14'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Cage2</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-16', -17)}>\n\t\t\t\t<div className=\"menu-item key-1\" id='sprite-tile-16'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Key1</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-17', -18)}>\n\t\t\t\t<div className=\"menu-item key-2\" id='sprite-tile-17'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Key2</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-18', -19)}>\n\t\t\t\t<div className=\"menu-item bed\" id='sprite-tile-18'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Bed</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-19', -20)}>\n\t\t\t\t<div className=\"menu-item barrel\" id='sprite-tile-19'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Barrel</h3>\n\t\t\t</button>\n\t\t\t<button className=\"menu-tile\" onClick={() => clickTile('sprite-tiles', 'sprite-tile-20', -21)}>\n\t\t\t\t<div className=\"menu-item weapons-rack\" id='sprite-tile-20'/>\n\t\t\t\t<h3 className=\"menu-item-text\">Weapons Rack</h3>\n\t\t\t</button>\n\t\t</div>\n\t)\n}\n\nexport default Objects;\n","import \"styles/MapEditor.css\"\nimport \"styles/Tiles.css\"\nimport { useEffect, useState } from \"react\";\nimport { Scrollbar } from \"react-scrollbars-custom\";\nimport { GridTile } from \"./tiles\";\nimport Walls from \"./Tiles/Walls\";\nimport Player from \"./Tiles/Player\";\nimport Objects from \"./Tiles/Objects\";\n\nconst MapEditor = () => {\n\tconst [grid, setGrid] = useState<number[][]>([]);\n\tconst [tile_selected, setTile] = useState<number>(2);\n\tconst [menu_selected, setMenuState] = useState<string>(\"walls\");\n\tconst [mouse_down, setMouseDown] = useState<boolean>(false);\n\tconst [force_update, setForcedUpdate] = useState<boolean>(false);\n\n\tconst defaultMap = () => {\n\t\tsetGrid([\n\t\t\t\t[ 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1.2, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 3, 0, 5, 5, 5, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 9, -19, 0, 0, 0, 0, 0, 0, -3, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 7, 6, 7, 6, 8, 6, 5, 0, 0, 0, 0, 0, 5, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 6, 6, 8, 6, 7, 6, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, -10, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 6, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, -21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 11, 11, 11, 6, 0, 6, 11, 11, 11, 11, 0, 5, 5, 5, 0, 5, 14, 5, 10, 10, 10, 0, 10, 10, 10, 0, 0, -4, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, -5, 0, 0, 0, 0, 0, 0, -6, -15, 11, 0, 0, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 9, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 10, 10, 10, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, -14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -18, 0, 0, 0, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 0, 0, 0, -5, 0, 0, 0, 11, 10, 10, 10, 10, 0, 0, 0, 0, 0, 0, 0, 0, -12, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, -6, -7, 0, -14, 0, 0, 0, -5, -16, 11, 0, 0, 0, 10, -13, 0, -13, 0, -13, 0, -13, 0, -13, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 11, 11, 11, 11, 12, 11, 11, 11, 11, 11, 0, 0, 0, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2],\n\t\t\t\t[ 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]\n\t\t])\n\t}\n\n\tuseEffect(() => {\n\t\tlet saved_map = localStorage.getItem('cub3d-map');\n\t\tif (saved_map)\n\t\t\tsetGrid(JSON.parse(saved_map))\n\t\telse\n\t\t\tdefaultMap();\n\n\t\treturn (() => {\n\t\t})\n\t}, [])\n\n\tconst mouseMoveHandler = (e: any) => {\n\t\tif (mouse_down) {\t\n\t\t\tcalculateGridIndexes(e);\n\t\t\tsetForcedUpdate(current => !current);\n\t\t}\n\t}\n\n\tconst mouseDownHandler = (e: any) => {\n\t\tif (e.button !== 0)\n\t\t\treturn;\n\t\tcalculateGridIndexes(e);\n\t\tsetMouseDown(true);\n\t}\n\n\tconst mouseUpHandler = (e: any) => {\n\t\tif (e.button !== 0)\n\t\t\treturn;\n\t\tsetMouseDown(false);\n\t}\n\n\tconst calculateGridIndexes = (e: any) => {\n\t\tlet rect = document.getElementById(\"map-editor-grid\")?.getBoundingClientRect();\n\t\tif (!rect || e.button !== 0)\n\t\t\treturn ;\n\t\tlet x = Math.floor((e.clientX - rect.left) / 16);\n\t\tlet y = Math.floor((e.clientY - rect.top) / 16);\n\t\t\n\t\t// ? If attempting to replace outer walls, do nothing\n\t\tif (x === 0 || y === 0 || x === grid.length - 1 || y === grid.length - 1) \n\t\t\treturn ;\n\n\t\tif ((grid.length > 0 && x >= 0 && x < grid[0].length) && (y >= 0 && y < grid.length)) {\n\t\t\tsetGrid((current) => {\n\t\t\t\tlet newGrid = current;\n\t\t\t\tif (tile_selected > 1 && tile_selected < 2) { // ? if placing a spawn tile\n\t\t\t\t\t// ? remove existing spawn tile\n\t\t\t\t\tfor (let i = 0; i < newGrid.length; i++) {\n\t\t\t\t\t\tfor (let j = 0; j < newGrid[i].length; j++) {\n\t\t\t\t\t\t\tif (newGrid[i][j] > 1 && newGrid[i][j] < 2)\n\t\t\t\t\t\t\t\tnewGrid[i][j] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (newGrid[y][x] > 1 && newGrid[y][x] < 2) // ? if tile to replace is a spawn tile, don't replace it\n\t\t\t\t\treturn newGrid;\n\t\t\t\tnewGrid[y][x] = tile_selected;\n\t\t\t\treturn newGrid;\n\t\t\t})\n\t\t}\n\t}\n\n\tconst saveMap = () => {\n\t\tlocalStorage.setItem('cub3d-map', JSON.stringify(grid));\n\t}\n\n\tconst selectTile = (tile: number) => {\n\t\tsetTile(tile);\n\t}\n\n\tlet row_key = 0;\n\tlet tile_key = 0;\n\n\treturn (\n\t\t<div id='map-editor'>\n\t\t\t<div id='map-editor-flex'>\n\t\t\t\t<Scrollbar>\n\t\t\t\t\t<div id=\"map-editor-grid\" onMouseDown={mouseDownHandler} onMouseUp={mouseUpHandler} onMouseLeave={mouseUpHandler} onMouseMove={mouseMoveHandler}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tgrid.map((row) => {\n\t\t\t\t\t\t\t\trow_key++;\n\t\t\t\t\t\t\t\treturn <div className=\"map-editor-row\" key={row_key}>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\trow.map((tile_content) => {\n\t\t\t\t\t\t\t\t\t\t\ttile_key++;\n\t\t\t\t\t\t\t\t\t\t\treturn <GridTile content={tile_content} key={tile_key}/>\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</Scrollbar>\n\t\t\t\t<div id=\"cub3d-button-separator\"/>\n\t\t\t\t<div id=\"map-editor-menu\">\n\t\t\t\t\t<Scrollbar>\n\t\t\t\t\t\t{ menu_selected === 'player' && <Player selectTile={selectTile}/> }\n\t\t\t\t\t\t{ menu_selected === 'walls' && <Walls selectTile={selectTile}/> }\n\t\t\t\t\t\t{ menu_selected === 'objects' && <Objects selectTile={selectTile}/> }\n\t\t\t\t\t</Scrollbar>\n\t\t\t\t\t<div id=\"map-editor-button-separator\"/>\n\t\t\t\t\t<button onClick={() => setMenuState('player')} className={\"map-editor-menu-button button-up \" + (menu_selected === 'player' ? 'selected-u' : '')}>Player</button>\n\t\t\t\t\t<div id=\"map-editor-button-separator\"/>\n\t\t\t\t\t<button onClick={() => setMenuState('walls')} className={\"map-editor-menu-button button-down \" + (menu_selected === 'walls' ? 'selected-d' : '')}>Walls</button>\n\t\t\t\t\t<div id=\"map-editor-button-separator\"/>\n\t\t\t\t\t<button onClick={() => setMenuState('objects')} className={\"map-editor-menu-button button-up \" + (menu_selected === 'objects' ? 'selected-u' : '')}>Objects</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button className=\"map-editor-button button-save\" onClick={saveMap}><h3>Save</h3></button>\n\t\t\t<button className=\"map-editor-button button-reset\" onClick={defaultMap}><h3>Reset</h3></button>\n\t\t</div>\n\t)\n}\n\nexport default MapEditor;\n","export const FOV = 66;\n\nexport const DEFAULT_MAP_WIDTH = 20;\nexport const DEFAULT_MAP_HEIGHT = 20;\n\nexport const TEX_WIDTH = 64;\nexport const TEX_HEIGHT = TEX_WIDTH;\nexport const SPRITE_WIDTH = 64;\nexport const SPRITE_HEIGHT = SPRITE_WIDTH;\n\nexport const RAYCASTER_WIDTH = 350;\nexport const RAYCASTER_HEIGHT = 200;\n\nexport const RAY_COUNT = 200;\n\nexport const WALK_SPEED = 4;\nexport const ROTATE_SPEED = 150;\nexport const MOUSE_SENSITIVITY = 3.5;\n\nexport let PREVIEW_BLOCK_WIDTH = 10;\nexport let PREVIEW_BLOCK_HEIGHT = 10;\nexport let PLAYER_RADIUS = PREVIEW_BLOCK_WIDTH;\n","import { Vector } from \"p5\";\nimport { PREVIEW_BLOCK_HEIGHT, PREVIEW_BLOCK_WIDTH } from \"./constants\";\n\nexport function getCanvasPos(pos: Vector, w: number, h: number) {\n\treturn new Vector(pos.x * PREVIEW_BLOCK_WIDTH + w / 2, pos.y * PREVIEW_BLOCK_HEIGHT + h / 2);\n}\n\nexport function perpendicularClockWise(v: Vector) {\n\treturn new Vector(v.y, -v.x);\n}\nexport function perpendicularCounterClockWise(v: Vector) {\n\treturn new Vector(-v.y, v.x);\n}\n\nexport function degreesToRadians(degrees: number) {\n\treturn degrees * Math.PI / 180;\n}","import p5, { Vector } from \"p5\";\nimport { useEffect, useRef, useState } from \"react\";\nimport \"styles/Canvas.css\"\nimport { RAYCASTER_WIDTH, RAYCASTER_HEIGHT, RAY_COUNT, TEX_WIDTH, TEX_HEIGHT, WALK_SPEED, ROTATE_SPEED, MOUSE_SENSITIVITY, SPRITE_WIDTH, SPRITE_HEIGHT } from \"./constants\";\nimport { perpendicularClockWise, perpendicularCounterClockWise } from \"./helper\";\nimport { Map } from \"./Map\";\nimport { Player } from \"./Player\";\nimport texturesData from \"../walls.json\"\nimport spritesData from \"../objects.json\"\n\nconst TEX_SHEET_WIDTH = 384;\nconst TEX_SHEET_HEIGHT = 1216;\n\nconst SPR_SHEET_WIDTH = 324;\nconst SPR_SHEET_HEIGHT = 665;\n\ninterface Sprite {\n\tx:\t\t\tnumber,\n\ty:\t\t\tnumber,\n\ttexture:\tnumber\n}\n\nlet canvas : HTMLCanvasElement | null;\nlet context: CanvasRenderingContext2D | null;\nlet frameCount : number;\nlet frameTime : number;\nlet frameRate : number;\nlet time: number;\nlet oldTime: number;\nlet animationFrameId: number;\nlet map: Map;\nlet player: Player;\nlet canvasData: ImageData;\nlet textures: Uint8ClampedArray[];\nlet sprites: Uint8ClampedArray[];\nlet floor_texture: Uint8ClampedArray;\nlet ceil_texture: Uint8ClampedArray;\n\nlet walking: string;\n\n// ? sprites\nlet ZBuffer: number[];\nlet visibleSprites: Sprite[];\nlet spriteOrder: number[];\nlet spriteDistance: number[];\n\n// const printMap = () => {\n// \tlet str = \"\";\n// \tstr += \"grid = [\\n\"\n// \tfor (let y of map.grid) {\n// \t\tstr += \"[ \"\n// \t\tfor (let x of y) {\n// \t\t\tstr += x + \", \";\n// \t\t}\n// \t\tstr += \"],\\n\";\n// \t}\n// \tstr += \"];\";\n// \tconsole.log(str)\n// } \n\nconst setPixelInCanvas = (pos: {x: number, y: number}, color: {r: number, g: number, b: number, a: number}) => {\n    if (!context)\n        return;\n    let index = 4 * (pos.y * context.canvas.width + pos.x);\n    canvasData.data[index] = color.r;\n    canvasData.data[index + 1] = color.g;\n    canvasData.data[index + 2] = color.b;\n    canvasData.data[index + 3] = color.a;  \n}\n\nconst getPixelColor = (texture: Uint8ClampedArray, pos: {x: number, y: number}) => {\n    let index = 4 * (pos.y * TEX_WIDTH + pos.x);\n    return {\n        r: texture[index],\n        g: texture[index + 1],\n        b: texture[index + 2],\n        a: texture[index + 3]\n    }\n}\n\nconst getTextures = () => {\n    textures = [];\n    let texData = texturesData.textures;\n    \n    let cv = document.createElement('canvas');\n    cv.width = TEX_SHEET_WIDTH;\n    cv.height = TEX_SHEET_HEIGHT;\n    let ctx = cv.getContext('2d');\n    if (!ctx)\n        return ;\n    let texturesSheet = new Image();\n    texturesSheet.src = './assets/textures/walls.png';\n    texturesSheet.crossOrigin = 'anonymous';\n    texturesSheet.onload = () => {\n        if (!ctx)\n            return;\n        ctx.drawImage(texturesSheet, 0, 0);\n        for (let i = 0; i < texData.length; i++) {\n            let frame = texData[i].frame;\n            let img = ctx.getImageData(frame.x, frame.y, frame.w, frame.h).data;\n            textures.push(img);\n        }\n        cv.remove();\n    }\n}\nconst getSprites = () => {\n    sprites = [];\n    let spriteData = spritesData.sprites;\n    \n    let cv = document.createElement('canvas');\n    cv.width = SPR_SHEET_WIDTH;\n    cv.height = SPR_SHEET_HEIGHT;\n    let ctx = cv.getContext('2d');\n    if (!ctx)\n        return ;\n    let spritesSheet = new Image();\n    spritesSheet.src = './assets/sprites/objects.png';\n    spritesSheet.crossOrigin = 'anonymous';\n    spritesSheet.onload = () => {\n        if (!ctx)\n            return;\n        ctx.drawImage(spritesSheet, 0, 0);\n        for (let i = 0; i < spriteData.length; i++) {\n            let frame = spriteData[i].frame;\n            let img = ctx.getImageData(frame.x, frame.y, frame.w, frame.h).data;\n            sprites.push(img);\n        }\n        cv.remove();\n    }\n}\n\nconst floorAndCeilCasting = () => {\n    for (let y = 0; y < RAYCASTER_HEIGHT; y++) {\n        let left_ray_dir = {\n            x: player.dir.x - player.plane.x,\n            y: player.dir.y - player.plane.y\n        }\n        let right_ray_dir = {\n            x: player.dir.x + player.plane.x,\n            y: player.dir.y + player.plane.y\n        }\n        let posY = y - RAYCASTER_HEIGHT / 2;\n\n        let posZ = 0.5 * RAYCASTER_HEIGHT;\n\n        let row_distance = posZ / posY;\n\n        let floor_step = {\n            x: row_distance * (right_ray_dir.x - left_ray_dir.x) / RAYCASTER_WIDTH,\n            y: row_distance * (right_ray_dir.y - left_ray_dir.y) / RAYCASTER_WIDTH\n        }\n\n        let floor = {\n            x: player.pos.x + row_distance * left_ray_dir.x,\n            y: player.pos.y + row_distance * left_ray_dir.y\n        }\n\n        for (let x = 0; x < RAYCASTER_WIDTH; x++) {\n            let cell = {\n                x: Math.floor(floor.x),\n                y: Math.floor(floor.y)\n            }\n\n            let t = {\n                x: Math.floor(TEX_WIDTH * (floor.x - cell.x)) & (TEX_WIDTH - 1),\n                y: Math.floor(TEX_HEIGHT * (floor.y - cell.y)) & (TEX_HEIGHT - 1)\n            }\n\n            floor.x += floor_step.x;\n            floor.y += floor_step.y;\n\n            let color: {r: number, g: number, b: number, a: number};\n\n            color = getPixelColor(floor_texture, {x: t.x, y: t.y});\n            setPixelInCanvas({x: x, y: y}, color);\n\n            color = getPixelColor(ceil_texture, {x: t.x, y: t.y});\n            setPixelInCanvas({x: x, y: RAYCASTER_HEIGHT - y - 1}, color);\n        }\n    }\n}\n\nconst rayCasting = () => {\n    let texture: Uint8ClampedArray;\n    let rayWidth = RAYCASTER_WIDTH / RAY_COUNT;\n\n    for (let i = 0; i < player.rays.length; i += 1) {\n        let ray = player.rays[i];\n        let perpWallDist: number;\n        let textureNum = ((map.grid[ray.mapCheck.y][ray.mapCheck.x] - 2) * 2);\n        if (ray.side === true) {\n            perpWallDist = ray.rayLength1D.y - ray.unitStepSize.y;\n            if (textureNum + 1 < textures.length) {\n\t\t\t\ttextureNum++;\n\t\t\t}\n\t\t\t\t\n        } else {\n            perpWallDist = ray.rayLength1D.x - ray.unitStepSize.x;\n        }\n        let lineHeight = Math.floor(RAYCASTER_HEIGHT / perpWallDist);\n        let drawStart = Math.floor(-lineHeight / 2 + RAYCASTER_HEIGHT / 2) + 1;\n        let drawEnd = Math.floor(lineHeight / 2 + RAYCASTER_HEIGHT / 2);\n        if (drawStart < 0) drawStart = 0;\n        if (drawEnd >= RAYCASTER_HEIGHT) drawEnd = RAYCASTER_HEIGHT - 1;\n\n        texture = textures[textureNum];\n        let wallX: number;\n        if (ray.side === false) {\n            wallX = ray.pos.y + perpWallDist * ray.dir.y;\n        } else {\n            wallX = ray.pos.x + perpWallDist * ray.dir.x;\t\n        }\n        wallX -= Math.floor(wallX);\n        let textureX = Math.floor(wallX * TEX_WIDTH);\n        if ((ray.side === false && ray.dir.x > 0) || (ray.side === true && ray.dir.y < 0)) \n            textureX = TEX_WIDTH - textureX - 1;\n\n        let step = TEX_HEIGHT / lineHeight;\n        let texturePos = (drawStart - RAYCASTER_HEIGHT / 2 + lineHeight / 2) * step;\n        for (let y = drawStart; y < drawEnd; y++) {\n            let textureY = Math.floor(texturePos);\n            texturePos += step;\n            let textureColor = getPixelColor(texture, {x: textureX, y: textureY});\n            for (let j = 0; j < rayWidth; j++) {\n                let x = Math.floor(i * rayWidth + j);\n                setPixelInCanvas({x: x, y: y}, textureColor)\n            }\n        }\n        ZBuffer[i] = perpWallDist;\n    }\n}\n\nconst spriteCasting = () => {\n\tfor(let i = 0; i < visibleSprites.length; i++)\n\t{\n\t\tspriteOrder[i] = i;\n\t\tspriteDistance[i] = ((player.pos.x - visibleSprites[i].x) * (player.pos.x - visibleSprites[i].x) + (player.pos.y - visibleSprites[i].y) * (player.pos.y - visibleSprites[i].y)); //sqrt not taken, unneeded\n\t}\n\tsortSprites();\n\n\t//after sorting the sprites, do the projection and draw them\n\tfor(let i = 0; i < visibleSprites.length; i++) {\n\t\t//translate visibleSprites position to relative to camera\n\t\tlet spriteX = visibleSprites[spriteOrder[i]].x - player.pos.x;\n\t\tlet spriteY = visibleSprites[spriteOrder[i]].y - player.pos.y;\n\n\t\t//transform sprite with the inverse camera matrix\n\t\t// [ planeX\t dirX ] -1\t\t\t\t\t\t\t\t\t\t [ dirY\t\t-dirX ]\n\t\t// [\t\t\t\t ]\t\t =\t1/(planeX*dirY-dirX*planeY) *\t [\t\t\t\t ]\n\t\t// [ planeY\t dirY ]\t\t\t\t\t\t\t\t\t\t\t[ -planeY\tplaneX ]\n\n\t\tlet invDet = 1.0 / (player.plane.x * player.dir.y - player.dir.x * player.plane.y); //required for correct matrix multiplication\n\n\t\tlet transformX = invDet * (player.dir.y * spriteX - player.dir.x * spriteY);\n\t\tlet transformY = invDet * (-player.plane.y * spriteX + player.plane.x * spriteY); //this is actually the depth inside the screen, that what Z is in 3D\n\n\t\tlet spriteScreenX = Math.floor((RAYCASTER_WIDTH / 2) * (1 + transformX / transformY));\n\n\t\t//calculate height of the sprite on screen\n\t\tlet spriteHeight = Math.abs(Math.floor(RAYCASTER_HEIGHT / (transformY))); //using 'transformY' instead of the real distance prevents fisheye\n\t\t//calculate lowest and highest pixel to fill in current stripe\n\t\tlet drawStartY = Math.floor(-spriteHeight / 2 + RAYCASTER_HEIGHT / 2);\n\t\tif(drawStartY < 0) drawStartY = 0;\n\t\tlet drawEndY = Math.floor(spriteHeight / 2 + RAYCASTER_HEIGHT / 2);\n\t\tif(drawEndY >= RAYCASTER_HEIGHT) drawEndY = RAYCASTER_HEIGHT - 1;\n\n\t\t//calculate width of the sprite\n\t\tlet spriteWidth = Math.abs(Math.floor (RAYCASTER_HEIGHT / (transformY)));\n\t\tlet drawStartX = Math.floor(-spriteWidth / 2 + spriteScreenX);\n\t\tif(drawStartX < 0) drawStartX = 0;\n\t\tlet drawEndX = Math.floor(spriteWidth / 2 + spriteScreenX);\n\t\tif(drawEndX >= RAYCASTER_WIDTH) drawEndX = RAYCASTER_WIDTH;\n\n\t\t//loop through every vertical stripe of the sprite on screen\n\t\tfor(let stripe = drawStartX; stripe < drawEndX; stripe++)\n\t\t{\n\t\t\tlet texX = Math.floor((stripe - (-spriteWidth / 2 + spriteScreenX)) * SPRITE_WIDTH / spriteWidth);\n\t\t\tif (texX < 0) texX = 0;\n\t\t\tif (texX >= SPRITE_WIDTH) texX = SPRITE_WIDTH - 1;\n\t\t\tif(transformY > 0 && transformY < ZBuffer[Math.floor(stripe / (RAYCASTER_WIDTH / RAY_COUNT))]) {\n\t\t\t\tfor(let y = drawStartY; y < drawEndY; y++) //for every pixel of the current stripe\n\t\t\t\t{\n\t\t\t\t\tlet d = Math.floor(y * 256 - RAYCASTER_HEIGHT * 128 + spriteHeight * 128); //256 and 128 factors to avoid floats\n\t\t\t\t\tlet texY = Math.floor(((d * SPRITE_HEIGHT) / spriteHeight) / 256);\n\t\t\t\t\tif (texY < 0) texY = 0;\n\t\t\t\t\tif (texY >= SPRITE_HEIGHT) texY = SPRITE_HEIGHT - 1;\n\t\t\t\t\tlet color = getPixelColor(sprites[visibleSprites[spriteOrder[i]].texture], {x: texX, y: texY})\n                    if (!((color.r === 149 && color.g === 20 && color.b === 129) || (color.r === 151 && color.g === 12 && color.b === 133))) {\n\t\t\t\t\t\tsetPixelInCanvas({x: stripe, y: y}, color);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\t\n\nconst sortSprites = () => {\n    for (let i = 0; i < visibleSprites.length; i++) {\n        for (let j = i + 1; j < visibleSprites.length; j++) {\n            if (spriteDistance[i] < spriteDistance[j]) {\n                let tmpDist = spriteDistance[i];\n                let tmpOrder = spriteOrder[i];\n                spriteDistance[i] = spriteDistance[j];\n                spriteOrder[i] = spriteOrder[j];\n                spriteDistance[j] = tmpDist;\n                spriteOrder[j] = tmpOrder;\n            }\n        }\n    }\n}\n\nconst preload = () => {\n    getTextures();\n    getSprites();\n}\n\nconst keyDownHandler = (e: KeyboardEvent) => {\n    \n    if (walking.indexOf(e.key) === -1 && (e.key === 'w' || e.key === 'z' || e.key === 's' || e.key === 'q' || e.key === 'a' || e.key === 'd' || e.key === 'e')) {\n        walking += e.key;\n    }\n}\n\nconst keyUpHandler = (e: KeyboardEvent) => {\n    if (walking.indexOf(e.key) !== -1) {\n        walking = walking.replaceAll(e.key, '');\n    }\n}\n\nconst setup = () => {\n    if (!context || !canvas)\n        return;\n    frameCount = 0;\n    floor_texture = textures[6];\n    ceil_texture = textures[15];\n    map = new Map();\n\tlet saved_map = localStorage.getItem(\"cub3d-map\");\n\tif (saved_map) {\n\t\tmap.grid = JSON.parse(saved_map);\n\t}\n\telse {\n\t\tmap.defaultMap();\n\t}\n    initializeSprites();\n    canvasData = context.getImageData(0, 0, context.canvas.width, context.canvas.height);\n    player = new Player(map.getPlayerPos(), map.grid);\n    player.walk_speed = WALK_SPEED;\n    player.rotate_speed = ROTATE_SPEED;\n    player.mouse_sensitivity = MOUSE_SENSITIVITY;\n    walking = \"\";\n}\n\n\nconst initializeSprites = () => {\n    visibleSprites = [];\n\n    for (let y = 0; y < map.grid.length; y++) {\n        for (let x = 0; x < map.grid[y].length; x++) {\n            let check = map.grid[y][x];\n            if (check < 0) {\n                visibleSprites.push({x: x + 0.5, y: y + 0.5, texture: (check + 3) * -1});\n            }\n        }\n    }\n\n    ZBuffer = [];\n    for (let i = 0; i < RAY_COUNT; i++) {\n        ZBuffer.push(0);\n    }\n\n    spriteOrder = [];\n    for (let i = 0; i < visibleSprites.length; i++) {\n        spriteOrder.push(0);\n    }\n    \n    spriteDistance = [];\n    for (let i = 0; i < visibleSprites.length; i++) {\n        spriteDistance.push(0);\n    }\n}\n\nconst draw = () => {\n    if (!context)\n        return;\n\n    if (walking.length > 0) {\n        let walking_direction = new Vector(0, 0);\n        if (walking.includes('z')) walking_direction.add(new Vector(player.dir.x, player.dir.y))\n        if (walking.includes('s')) walking_direction.add(p5.Vector.mult(player.dir, -1))\n        if (walking.includes('q')) walking_direction.add(perpendicularClockWise(player.dir))\n        if (walking.includes('d')) walking_direction.add(perpendicularCounterClockWise(player.dir))\n\t\tif (walking.includes('a')) player.rotateDir(map.grid, -player.rotate_speed)\n\t\tif (walking.includes('e')) player.rotateDir(map.grid, player.rotate_speed);\t\n        player.addPos(walking_direction, map.grid)\n    } \n\n    context.clearRect(0, 0, context.canvas.width, context.canvas.height)\n    floorAndCeilCasting();\n    rayCasting();\n    spriteCasting();\n    context.putImageData(canvasData, 0, 0)\n}\n\nconst Canvas = () => {\n\tconst [frameRate, setFrameRate] = useState<number>(0);\n    const canvasRef = useRef<(HTMLCanvasElement | null)>(null);\n\n\tuseEffect(() => {\n        canvas = canvasRef.current;\n        if (canvas) {\n            canvas.width = RAYCASTER_WIDTH;\n            canvas.height = RAYCASTER_HEIGHT;\n            context = canvas.getContext('2d');\n            if (context) {\n                preload();\n                let inter = setInterval(() => {\n                    if (textures.length > 0 && sprites.length > 0) {\n                        clearInterval(inter);\n                        setup();\n                        document.addEventListener('keydown', keyDownHandler);\n                        document.addEventListener('keyup', keyUpHandler);\n        \n                        const render = () => {\n                            frameCount++;\n                            oldTime = time;\n                            draw()\n                            time = Date.now();\n                            frameTime = (time - oldTime) / 1000;\n                            setFrameRate(Math.floor(1 / frameTime));\n                            player.walk_speed = WALK_SPEED * frameTime;\n                            player.rotate_speed = ROTATE_SPEED * frameTime;\n                            player.mouse_sensitivity = MOUSE_SENSITIVITY * frameTime;\t\t\t\n                            animationFrameId = window.requestAnimationFrame(render)\n                        }\n                        render();\n                    }\n                }, 50)\n            }\n        }\n        return () => {\n            document.removeEventListener('keydown', keyDownHandler);\n            document.removeEventListener('keyup', keyUpHandler);\n            window.cancelAnimationFrame(animationFrameId);\n        }\n    }, [])\n\n    return (\n\t\t<div>\n\t\t\t<h3 style={{position: \"absolute\", zIndex: 10, color: \"var(--yellow)\", top: \"15px\"}}>{frameRate.toString()}</h3>\n\t\t\t<canvas id='cub3d-canvas' ref={canvasRef}/>\n\t\t</div>\n    )\n}\n\nexport default Canvas;","import p5, { Vector } from \"p5\";\nimport { BLUE, RED, YELLOW } from \"../../../../../consts\";\nimport { DEFAULT_MAP_HEIGHT, DEFAULT_MAP_WIDTH } from \"./constants\";\nimport { PREVIEW_BLOCK_HEIGHT, PREVIEW_BLOCK_WIDTH } from \"./constants\";\n\nexport class Map {\n\tgrid:\tnumber[][];\n\twidth:\tnumber;\n\theight:\tnumber;\n\n\tconstructor() {\n\t\tthis.width = DEFAULT_MAP_WIDTH;\n\t\tthis.height = DEFAULT_MAP_HEIGHT;\n\t\tthis.grid = [];\n\t}\n\n\tdraw(p: p5) {\n\t\tfor (let y = 0; y < this.grid.length; y++) {\n\t\t\tfor (let x = 0; x < this.grid[0].length; x++) {\n\t\t\t\tp.push();\n\t\t\t\tp.noStroke();\n\t\t\t\tif (this.grid[y][x] === 0) {\n\t\t\t\t\tp.fill(\"white\");\n\t\t\t\t} else if (this.grid[y][x] === 1) {\n\t\t\t\t\tp.fill(BLUE);\n\t\t\t\t} else if (this.grid[y][x] === 3) {\n\t\t\t\t\tp.fill(RED);\n\t\t\t\t} else if (this.grid[y][x] === 4) {\n\t\t\t\t\tp.fill(YELLOW);\n\t\t\t\t}\n\t\t\t\tp.rect(x * PREVIEW_BLOCK_WIDTH, y * PREVIEW_BLOCK_HEIGHT, PREVIEW_BLOCK_WIDTH, PREVIEW_BLOCK_HEIGHT);\n\t\t\t\tp.pop();\n\t\t\t}\n\t\t}\n\t}\n\n\tdefaultMap() {\n\t\tthis.grid = [\n\t\t\t[ 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1.2, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 3, 0, 5, 5, 5, 0, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 9, -19, 0, 0, 0, 0, 0, 0, -3, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 7, 6, 7, 6, 8, 6, 5, 0, 0, 0, 0, 0, 5, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 6, 6, 8, 6, 7, 6, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, -10, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 6, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 5, -21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 11, 11, 11, 6, 0, 6, 11, 11, 11, 11, 0, 5, 5, 5, 0, 5, 14, 5, 10, 10, 10, 0, 10, 10, 10, 0, 0, -4, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, -5, 0, 0, 0, 0, 0, 0, -6, -15, 11, 0, 0, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 9, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 10, 10, 10, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, -14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -18, 0, 0, 0, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 0, 0, 0, 0, 0, -5, 0, 0, 0, 11, 10, 10, 10, 10, 0, 0, 0, 0, 0, 0, 0, 0, -12, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, -6, -7, 0, -14, 0, 0, 0, -5, -16, 11, 0, 0, 0, 10, -13, 0, -13, 0, -13, 0, -13, 0, -13, 0, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, 11, 11, 11, 11, 12, 11, 11, 11, 11, 11, 0, 0, 0, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, ],\n\t\t\t[ 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, ]\n\t\t];\n\t}\n\n\tgetPlayerPos(): {pos: Vector, dir: Vector} {\n\t\tfor (let y = 0; y < this.grid.length; y++) {\n\t\t\tfor (let x = 0; x < this.grid[0].length; x++) {\n\t\t\t\tif (this.grid[y][x] === 1.1) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpos: new Vector(x, y),\n\t\t\t\t\t\tdir: new Vector(0, -1)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if (this.grid[y][x] === 1.2) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpos: new Vector(x, y),\n\t\t\t\t\t\tdir: new Vector(0, 1)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if (this.grid[y][x] === 1.3) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpos: new Vector(x, y),\n\t\t\t\t\t\tdir: new Vector(-1, 0)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse if (this.grid[y][x] === 1.4) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpos: new Vector(x, y),\n\t\t\t\t\t\tdir: new Vector(1, 0)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tpos: new Vector(0, 0),\n\t\t\tdir: new Vector(0, -1)\n\t\t};\n\t}\n}","import p5, { Vector } from \"p5\";\nimport { RED } from \"../../../../../consts\";\nimport { getCanvasPos } from \"./helper\";\nimport { PREVIEW_BLOCK_HEIGHT, PREVIEW_BLOCK_WIDTH } from \"./constants\";\n\nexport class Ray {\n\tpos: Vector;\n\tdir: Vector;\n\tunitStepSize: Vector;\n\tmapCheck: Vector;\n\trayLength1D: Vector;\n\tstep: Vector;\n\tdist: number;\n\tside: boolean;\n\n\tintersection: Vector;\n\n\tconstructor(pos: Vector, dir: Vector, grid: number[][]) {\n\t\tthis.pos = pos;\n\t\tthis.dir = dir;\n\t\t\n\t\tthis.unitStepSize = new Vector(\n\t\t\tMath.sqrt(1 + (this.dir.y / this.dir.x) * (this.dir.y / this.dir.x)),\n\t\t\tMath.sqrt(1 + (this.dir.x / this.dir.y) * (this.dir.x / this.dir.y)));\n\t\n\t\tthis.mapCheck = new Vector(Math.floor(this.pos.x), Math.floor(this.pos.y));\n\t\tthis.rayLength1D = new Vector(0, 0);\n\t\t\n\t\tthis.step = new Vector(0, 0);\n\t\tthis.intersection = new Vector(0, 0);\n\n\t\tthis.dist = 0;\n\t\tthis.side = false;\n\t\tthis.rayCast(grid);\n\t}\n\n\treset(pos: Vector, dir: Vector) {\n\t\tthis.pos = pos;\n\t\tthis.dir = dir;\n\t\t\n\t\tthis.unitStepSize = new Vector(\n\t\t\tMath.sqrt(1 + (this.dir.y / this.dir.x) * (this.dir.y / this.dir.x)),\n\t\t\tMath.sqrt(1 + (this.dir.x / this.dir.y) * (this.dir.x / this.dir.y)));\n\t\n\t\tthis.mapCheck = new Vector(Math.floor(this.pos.x), Math.floor(this.pos.y));\n\t\tthis.rayLength1D = new Vector(0, 0);\n\t\t\n\t\tthis.step = new Vector(0, 0);\n\t\tthis.intersection = new Vector(0, 0);\n\n\t\tthis.dist = 0;\n\t\tthis.side = false;\n\t}\n\n\trayCast(grid: number[][]) {\n\t\tthis.unitStepSize = new Vector(\n\t\t\tMath.sqrt(1 + (this.dir.y / this.dir.x) * (this.dir.y / this.dir.x)),\n\t\t\tMath.sqrt(1 + (this.dir.x / this.dir.y) * (this.dir.x / this.dir.y)));\n\t\n\t\tthis.mapCheck = new Vector(Math.floor(this.pos.x), Math.floor(this.pos.y));\n\t\tthis.rayLength1D = new Vector(0, 0);\n\t\t\n\t\tthis.step = new Vector(0, 0);\n\t\tthis.intersection = new Vector(0, 0);\n\n\t\tthis.dist = 0;\n\n\t\tif (this.dir.x < 0) {\n\t\t\tthis.step.x = -1;\n\t\t\tthis.rayLength1D.x = (this.pos.x - this.mapCheck.x) * this.unitStepSize.x;\n\t\t}\t\n\t\telse {\n\t\t\tthis.step.x = 1;\n\t\t\tthis.rayLength1D.x = ((this.mapCheck.x + 1) - this.pos.x) * this.unitStepSize.x;\n\t\t}\n\t\tif (this.dir.y < 0) {\n\t\t\tthis.step.y = -1;\n\t\t\tthis.rayLength1D.y = (this.pos.y - this.mapCheck.y) * this.unitStepSize.y;\n\t\t}\t\n\t\telse {\n\t\t\tthis.step.y = 1;\n\t\t\tthis.rayLength1D.y = ((this.mapCheck.y + 1) - this.pos.y) * this.unitStepSize.y;\n\t\t}\n\n\t\tlet wallFound = false;\n\t\tlet maxDistance = 100;\n\n\t\twhile (!wallFound && this.dist < maxDistance) {\n\t\t\tif (this.rayLength1D.x < this.rayLength1D.y) {\n\t\t\t\tthis.mapCheck.x += this.step.x;\n\t\t\t\tthis.dist = this.rayLength1D.x;\n\t\t\t\tthis.rayLength1D.x += this.unitStepSize.x;\n\t\t\t\tthis.side = false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.mapCheck.y += this.step.y;\n\t\t\t\tthis.dist = this.rayLength1D.y;\n\t\t\t\tthis.rayLength1D.y += this.unitStepSize.y;\n\t\t\t\tthis.side = true;\n\t\t\t}\n\n\t\t\tif (this.mapCheck.x >= 0 && this.mapCheck.x < grid[0].length &&\n\t\t\t\tthis.mapCheck.y >= 0 && this.mapCheck.y < grid.length) {\n\t\t\t\tlet check = grid[this.mapCheck.y][this.mapCheck.x];\n\t\t\t\tif (check >= 2) {\n\t\t\t\t\twallFound = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (wallFound)\n\t\t\tthis.intersection = p5.Vector.add(this.pos, p5.Vector.mult(this.dir, this.dist))\n\t\telse\n\t\t\tconsole.log('dist exceeded')\t\n\t}\n\n\tdraw(p: p5) {\n\t\tlet dir = getCanvasPos(this.intersection, 0, 0);\n\t\t\n\t\tp.push();\n\t\tp.stroke(RED);\n\t\tp.strokeWeight(1);\n\t\tp.line(this.pos.x * PREVIEW_BLOCK_WIDTH, this.pos.y * PREVIEW_BLOCK_HEIGHT, dir.x, dir.y);\n\t\tp.pop();\n\t}\n}","import p5, { Vector } from \"p5\";\nimport { GREEN, RED } from \"../../../../../consts\";\nimport { FOV, RAY_COUNT } from \"./constants\";\nimport { degreesToRadians, perpendicularClockWise, perpendicularCounterClockWise } from \"./helper\";\nimport { Ray } from \"./Ray\";\nimport { PLAYER_RADIUS, PREVIEW_BLOCK_HEIGHT, PREVIEW_BLOCK_WIDTH } from \"./constants\";\n\nexport class Player {\n\tpos: Vector;\n\tdir: Vector;\n\tplane: Vector;\n\n\twalk_speed: number;\n\trotate_speed: number;\n\tmouse_sensitivity: number;\n\n\trays: Ray[];\n\n\tconstructor(info: {pos: Vector, dir: Vector}, grid: number[][]) {\n\t\tthis.pos = new Vector(info.pos.x + 0.5, info.pos.y + 0.5);\n\t\tthis.dir = info.dir;\n\t\tthis.plane = new Vector(this.dir.y * -(FOV / 100), this.dir.x * (FOV / 100));\n\n\t\tthis.rays = [];\n\t\tthis.walk_speed = 0;\n\t\tthis.rotate_speed = 0;\n\t\tthis.mouse_sensitivity = 0;\n\n\t\tfor (let i = 0; i < RAY_COUNT; i++) {\n\t\t\tthis.rays.push(new Ray(this.pos, p5.Vector.rotate(this.dir, degreesToRadians((-FOV / 2) + i * (FOV / RAY_COUNT))), grid))\n\t\t}\n\t}\n\n\tresetRays(grid: number[][]) {\n\t\tfor (let i = 0; i < this.rays.length; i++) {\n\t\t\tthis.rays[i].reset(this.pos, p5.Vector.rotate(this.dir, degreesToRadians((-FOV / 2) + i * (FOV / RAY_COUNT))))\n\t\t}\n\t\tthis.castRays(grid);\n\t}\n\n\tcastRays(grid: number[][]) {\n\t\tfor (let i = 0; i < this.rays.length; i++) {\n\t\t\tthis.rays[i].rayCast(grid)\n\t\t}\n\t}\n\n\tdraw(p: p5) {\n\t\tp.push();\n\t\tp.fill(GREEN);\n\t\tp.ellipse(\tthis.pos.x * PREVIEW_BLOCK_WIDTH, \n\t\t\t\t\tthis.pos.y * PREVIEW_BLOCK_HEIGHT, \n\t\t\t\t\tPLAYER_RADIUS);\n\t\tp.fill(RED);\n\t\tp.ellipse(\tthis.pos.x * PREVIEW_BLOCK_WIDTH, \n\t\t\t\t\tthis.pos.y * PREVIEW_BLOCK_HEIGHT, \n\t\t\t\t\tPLAYER_RADIUS / 5);\n\t\tp.pop();\n\t\t\n\t\tfor (let ray of this.rays) {\n\t\t\tray.draw(p);\n\t\t}\n\t}\n\n\taddPos(velocity: Vector, grid: number[][]) {\n\t\tvelocity.normalize();\n\t\tvelocity.mult(this.walk_speed);\n\t\tlet x = this.pos.x + velocity.x;\n\t\tlet y = this.pos.y + velocity.y;\n\t\tif (x >= 0 && x < grid[0].length && (grid[Math.floor(this.pos.y)][Math.floor(x)] === 0 || (grid[Math.floor(this.pos.y)][Math.floor(x)] > 1 && grid[Math.floor(this.pos.y)][Math.floor(x)] < 2))) {\n\t\t\tthis.pos.x = x;\n\t\t}\n\t\tif (y >= 0 && y < grid.length && (grid[Math.floor(y)][Math.floor(this.pos.x)] === 0 || (grid[Math.floor(y)][Math.floor(this.pos.x)] > 1 && grid[Math.floor(y)][Math.floor(this.pos.x)] < 2))) {\n\t\t\tthis.pos.y = y;\n\t\t}\n\t\tthis.castRays(grid);\n\t}\n\trotateDir(grid: number[][], amount: number) {\n\t\tif (amount > 10)\n\t\t\tamount = 10;\n\t\telse if (amount < -10)\n\t\t\tamount = -10;\n\t\tthis.dir.rotate(degreesToRadians(amount));\n\t\tthis.plane.rotate(degreesToRadians(amount));\n\t\tthis.resetRays(grid);\n\t}\n\n\tmove(p: p5, grid: number[][]) {\n\t\tif (p.keyIsDown(90)) { // ? z\n\t\t\tthis.addPos(new Vector(this.dir.x, this.dir.y), grid);\n\t\t} \n\t\tif (p.keyIsDown(83)) { // ? s\n\t\t\tthis.addPos(p5.Vector.mult(this.dir, -1), grid);\n\t\t}\n\t\tif (p.keyIsDown(81)) { // ? q\n\t\t\tthis.addPos(perpendicularClockWise(this.dir), grid);\n\t\t}\n\t\tif (p.keyIsDown(68)) { // ? d\n\t\t\tthis.addPos(perpendicularCounterClockWise(this.dir), grid);\n\t\t}\n\t\tif (p.keyIsDown(65)) { // ? a\n\t\t\tthis.rotateDir(grid, -this.rotate_speed);\n\t\t}\n\t\tif (p.keyIsDown(69)) { // ? e\n\t\t\tthis.rotateDir(grid, this.rotate_speed);\n\t\t}\n\t}\n}","import { memo, useEffect, useState } from \"react\";\nimport \"styles/Cub3D.css\"\nimport MapEditor from \"./MapEditor\";\nimport Canvas from \"./Sketch/Canvas\";\n\nconst Cub3D = ({forcedUpdate}: {forcedUpdate: boolean}) => {\n\tconst [selected_app, setApp] = useState<number>(0);\n\n\tconst goToMapEditor = () => {\n\t\tanimateMenuShrink();\n\t\tsetTimeout(() => setApp(-1), 250);\n\t}\n\tconst goToMenu = () => {\n\t\tsetApp(0);\n\t}\n\tconst goToSketch = () => {\n\t\tanimateMenuShrink();\n\t\tsetTimeout(() => {\n\t\t\tsetApp(1);\n\t\t}, 200)\n\t}\n\n\tconst animateMenuShrink = () => {\n\t\tlet div = document.getElementById(\"cub3d-button-1\");\n\t\tdiv?.animate([\n\t\t\t{\n\t\t\t\tbackgroundPosition: \"0 0\",\n\t\t\t\tcolor: \"var(--black)\"\n\t\t\t}\n\t\t], {\n\t\t\tduration: 100,\n\t\t\tfill: \"forwards\"\n\t\t})\n\t\tdiv = document.getElementById(\"cub3d-button-2\");\n\t\tdiv?.animate([\n\t\t\t{\n\t\t\t\tbackgroundPosition: \"100% 0%\",\n\t\t\t\tcolor: \"var(--black)\"\n\t\t\t}\n\t\t], {\n\t\t\tduration: 100,\n\t\t\tfill: \"forwards\"\n\t\t})\n\t\tdiv = document.getElementById(\"cub3d-button-separator\");\n\t\tsetTimeout(() => {\n\t\t\tdiv?.animate([\n\t\t\t\t{\n\t\t\t\t\theight: 0\n\t\t\t\t}\n\t\t\t], {\n\t\t\t\tduration: 150,\n\t\t\t\tfill: \"forwards\"\n\t\t\t});\n\t\t}, 100)\n\t}\n\n\treturn (\n\t\t<div id=\"cub3d\">\n\t\t\t{ selected_app === 0 &&\n\t\t\t\t<div id=\"cub3d-button-flex\">\n\t\t\t\t\t<button className=\"cub3d-button\" id=\"cub3d-button-1\"\n\t\t\t\t\t\tonClick={goToMapEditor}>\n\t\t\t\t\t\tEdit<br/>map\n\t\t\t\t\t</button>\n\t\t\t\t\t<div id=\"cub3d-button-separator\"/>\n\t\t\t\t\t<button className=\"cub3d-button\" id=\"cub3d-button-2\"\n\t\t\t\t\t\tonClick={goToSketch}>\n\t\t\t\t\t\tPlay\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t{ selected_app === -1 &&\n\t\t\t\t<div className=\"Canvas\" id=\"cub3d-map-editor\">\n\t\t\t\t\t<button className=\"cub3d-button-return\"\n\t\t\t\t\tonClick={goToMenu}>\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon-arrow-back\" width=\"50\" height=\"50\" \n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#F4615A\" fill=\"none\" \n\t\t\t\t\t\t\tstrokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t<path d=\"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t\t<MapEditor/>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t{ selected_app === 1 &&\n\t\t\t\t<div>\n\t\t\t\t\t<button className=\"cub3d-button-return\"\n\t\t\t\t\t\tonClick={goToMenu}>\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon-arrow-back\" width=\"50\" height=\"50\" \n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"#F4615A\" \n\t\t\t\t\t\t\tstrokeLinecap=\"round\" strokeLinejoin=\"round\">\n\t\t\t\t\t\t\t<path d=\"M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t\t<Canvas/>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t)\n}\n\nexport default memo(Cub3D);"],"names":["tileClicked","parent_name","tilename","parent","document","getElementById","undefined","querySelectorAll","remove","div","createElement","classList","add","tile","parentElement","querySelector","prepend","GridTile","content","typeId","className","includes","selectTile","clickTile","node","n","id","onClick","useState","grid","setGrid","tile_selected","setTile","menu_selected","setMenuState","mouse_down","setMouseDown","setForcedUpdate","defaultMap","useEffect","saved_map","localStorage","getItem","JSON","parse","mouseUpHandler","e","button","calculateGridIndexes","rect","getBoundingClientRect","x","Math","floor","clientX","left","y","clientY","top","length","current","newGrid","i","j","row_key","tile_key","onMouseDown","onMouseUp","onMouseLeave","onMouseMove","map","row","tile_content","setItem","stringify","TEX_WIDTH","RAYCASTER_WIDTH","RAYCASTER_HEIGHT","RAY_COUNT","PREVIEW_BLOCK_WIDTH","PREVIEW_BLOCK_HEIGHT","perpendicularClockWise","v","Vector","perpendicularCounterClockWise","degreesToRadians","degrees","PI","canvas","context","frameTime","time","oldTime","animationFrameId","player","canvasData","textures","sprites","floor_texture","ceil_texture","walking","ZBuffer","visibleSprites","spriteOrder","spriteDistance","Map","width","height","this","p","push","noStroke","fill","BLUE","RED","YELLOW","pop","pos","dir","Ray","unitStepSize","mapCheck","rayLength1D","step","dist","side","intersection","sqrt","rayCast","wallFound","p5","console","log","w","h","stroke","strokeWeight","line","Player","info","plane","walk_speed","rotate_speed","mouse_sensitivity","rays","reset","castRays","GREEN","ellipse","PLAYER_RADIUS","draw","velocity","normalize","mult","amount","rotate","resetRays","keyIsDown","addPos","rotateDir","setPixelInCanvas","color","index","data","r","g","b","a","getPixelColor","texture","sortSprites","tmpDist","tmpOrder","preload","texData","texturesData","cv","ctx","getContext","texturesSheet","Image","src","crossOrigin","onload","drawImage","frame","img","getImageData","getTextures","spriteData","spritesData","spritesSheet","getSprites","keyDownHandler","indexOf","key","keyUpHandler","replaceAll","initializeSprites","check","walking_direction","clearRect","left_ray_dir","right_ray_dir","row_distance","floor_step","cell","t","TEX_HEIGHT","floorAndCeilCasting","ray","perpWallDist","textureNum","lineHeight","drawStart","drawEnd","wallX","textureX","texturePos","textureY","textureColor","rayCasting","spriteX","spriteY","invDet","transformX","transformY","spriteScreenX","spriteHeight","abs","drawStartY","drawEndY","spriteWidth","drawStartX","drawEndX","stripe","texX","SPRITE_WIDTH","d","texY","SPRITE_HEIGHT","spriteCasting","putImageData","frameRate","setFrameRate","canvasRef","useRef","inter","setInterval","clearInterval","getPlayerPos","setup","addEventListener","render","Date","now","window","requestAnimationFrame","removeEventListener","cancelAnimationFrame","style","position","zIndex","toString","ref","Cub3D","forcedUpdate","selected_app","setApp","goToMenu","animateMenuShrink","animate","backgroundPosition","duration","setTimeout","xmlns","viewBox","strokeWidth","strokeLinecap","strokeLinejoin","memo"],"sourceRoot":""}